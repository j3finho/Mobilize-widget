<!DOCTYPE html>
<html lang="pt-br">
   <head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="css/app.css">
      <link rel="stylesheet" href="css/bootstrap.css">
      <link rel="stylesheet" href="css/icons.css">
      <link rel="stylesheet" href="libs/sweetalert/sweetalert.css">
      <title>Document</title>
      <script type="text/javascript"
         src="https://js.zohostatic.com/creator/widgets/version/1.0/widgetsdk-min.js"></script>
      <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
      <style>
         .modal:nth-of-type(even) {
         z-index: 1052 !important;
         }
         .modal-backdrop.show:nth-of-type(even) {
         z-index: 1051 !important;
         }
      </style>
   </head>
   <body>
      <div class="container-fluid ">
      <div class="row px-4 pt-5">
         <div class="col-xl-12">
            <input type="hidden" value="" id="logado_usuario_id" />
            <input type="hidden" value="" id="dadosurlzoho" />
            <input type="hidden" value="" id="useremailzoho" />
            <input type="hidden" value="" id="candidatoID" />
            <input type="hidden" value="" id="siteID" />
            <div class="card">
               <div class="card-body">
                  <div class="row">
                     <div class="col-lg-8">
                        <div class="d-flex">
                           <div class="flex-shrink-0 me-3">
                              <img src="images/users/avatar-1.png" alt=""
                                 class="avatar-md rounded-circle img-thumbnail">
                           </div>
                           <div class="flex-grow-1 align-self-center">
                              <div class="text-muted">
                                 <p class="mb-2">Bem Vindo</p>
                                 <h5 class="mb-1" id="logado_usuario">Usuário</h5>
                                 <p class="mb-0" id="logado_funcao">Função</p>
                              </div>
                              <div class="flex-grow-1 align-self-center px-0 mr-5 pt-4">
                                 <ul class="nav nav-pills  pb-lg-1" role="tablist">
                                    <li class="nav-item waves-effect waves-light">
                                       <a id="btn_sites" class="nav-link active" data-bs-toggle="tab"
                                          href="#faturas" role="tab">
                                       <span class=" p-1"> Sites </span>
                                       </a>
                                    </li>
                                    <!-- <li class="nav-item waves-effect waves-light">
                                       <a id="btn_candidatos" class="nav-link" data-bs-toggle="tab"
                                          href="#subscricao" role="tab">
                                       <span class=" p-1"> Candidatos </span>
                                       </a>
                                    </li>
                                    <li class="nav-item waves-effect waves-light">
                                       <a id="btn_atividades" class="nav-link " data-bs-toggle="tab"
                                          href="#home-1" role="tab">
                                       <span class=" p-1"> Tarefas </span>
                                       </a>
                                    </li> -->
                                 </ul>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="col-lg-2 col-md-12">
                        <img class="pt-2" src="images/logo-mobilize.png" alt="">
                     </div>
                  </div>
                  <!-- end row -->
               </div>
            </div>
         </div>
      </div>
      <div class="tab-content p-4 text-muted">
         <div class="tab-pane" id="home-1" role="tabpanel">
            <div class="row">
               <div class="col-xl-12">
                  <div class="row">
                     <div class="col-sm-3">
                        <div class="card">
                           <div class="card-body">
                              <div class="d-flex align-items-center mb-3">
                                 <div class="avatar-xs me-3">
                                    <span
                                       class="avatar-title rounded-circle bg-primary bg-soft text-primary font-size-18">
                                    <i class="bx bx-copy-alt"></i>
                                    </span>
                                 </div>
                                 <h5 class="font-size-14 mb-0">Tarefas Não Iniciadas</h5>
                              </div>
                              <div class="text-muted mt-4">
                                 <h4 id="tarefasNaoIniciadas"><i
                                    class="mdi mdi-chevron-up ms-1 text-success"></i></h4>
                                 <div class="d-flex">
                                    <span class="badge badge-soft-success font-size-12"></span>
                                    <span class="ms-2 text-truncate">Tarefas Não Iniciadas</span>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="col-sm-3">
                        <div class="card">
                           <div class="card-body">
                              <div class="d-flex align-items-center mb-3">
                                 <div class="avatar-xs me-3">
                                    <span
                                       class="avatar-title rounded-circle bg-primary bg-soft text-primary font-size-18">
                                    <i class="bx bx-copy-alt"></i>
                                    </span>
                                 </div>
                                 <h5 class="font-size-14 mb-0">Tarefas Em Andamento</h5>
                              </div>
                              <div class="text-muted mt-4">
                                 <h4 id="tarefasEmAndamento"> <i
                                    class="mdi mdi-chevron-up ms-1 text-success"></i></h4>
                                 <div class="d-flex">
                                    <span class="badge badge-soft-success font-size-12"></span>
                                    <span class="ms-2 text-truncate">Total de Tarefas Em Andamento</span>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="col-sm-3">
                        <div class="card">
                           <div class="card-body">
                              <div class="d-flex align-items-center mb-3">
                                 <div class="avatar-xs me-3">
                                    <span
                                       class="avatar-title rounded-circle bg-primary bg-soft text-primary font-size-18">
                                    <i class="bx bx-copy-alt"></i>
                                    </span>
                                 </div>
                                 <h5 class="font-size-14 mb-0">Tarefas Vencidas</h5>
                              </div>
                              <div class="text-muted mt-4">
                                 <h4 id="tarefasVencidas"> <i
                                    class="mdi mdi-chevron-up ms-1 text-success"></i></h4>
                                 <div class="d-flex">
                                    <span class="badge badge-soft-success font-size-12"></span>
                                    <span class="ms-2 text-truncate">Total de Tarefas Vencidas</span>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="col-sm-3">
                        <div class="card">
                           <div class="card-body">
                              <div class="d-flex align-items-center mb-3">
                                 <div class="avatar-xs me-3">
                                    <span
                                       class="avatar-title rounded-circle bg-primary bg-soft text-primary font-size-18">
                                    <i class="bx bx-archive-in"></i>
                                    </span>
                                 </div>
                                 <h5 class="font-size-14 mb-0">Tarefas Finalizadas</h5>
                              </div>
                              <div class="text-muted mt-4">
                                 <h4 id="tarefasFinalizadas"> <i
                                    class="mdi mdi-chevron-up ms-1 text-success"></i></h4>
                                 <div class="d-flex">
                                    <span class="badge badge-soft-success font-size-12"></span>
                                    <span class="ms-2 text-truncate">Total de tarefas Finalizadas</span>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
            <div class="row" id="sectionAtividades">
               <div class="col-12">
                  <div class="card">
                     <div class="card-body">
                        <div class="row">
                           <div class="col-12 text-left d-flex justify-content-left titulo-emitir-nota"
                              style="justify-content: space-between;">
                              <h2 class="card-title">Lista de Tarefas</h2>
                           </div>
                        </div>
                        <div class="pt-2">
                           <table id="datatable-Tarefas"
                              class="table-striped table table-bordered dt-responsive nowrap w-100">
                           </table>
                        </div>
                     </div>
                  </div>
               </div>
               <!-- end col -->
            </div>
         </div>
         <!-- Candidatos -->
         <div class="tab-pane" id="subscricao" role="tabpanel">
            <div class="row">
               <div class="col-xl-12">
                  <div class="row">
                     <div class="col-sm-4">
                        <div class="card">
                           <div class="card-body">
                              <div class="d-flex align-items-center mb-3">
                                 <div class="avatar-xs me-3">
                                    <span
                                       class="avatar-title rounded-circle bg-primary bg-soft text-primary font-size-18">
                                    <i class="bx bx-copy-alt"></i>
                                    </span>
                                 </div>
                                 <h5  class="font-size-14 mb-0">Em Análise</h5>
                              </div>
                              <div class="text-muted mt-4">
                                 <h4 id="cuosEmAnalise"><i class="mdi mdi-chevron-up ms-1 text-success"></i></h4>
                                 <div class="d-flex">
                                    <span class="badge badge-soft-success font-size-12"></span>
                                    <span class="ms-2 text-truncate">CUOS em Análise</span>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="col-sm-4">
                        <div class="card">
                           <div class="card-body">
                              <div class="d-flex align-items-center mb-3">
                                 <div class="avatar-xs me-3">
                                    <span
                                       class="avatar-title rounded-circle bg-primary bg-soft text-primary font-size-18">
                                    <i class="bx bx-copy-alt"></i>
                                    </span>
                                 </div>
                                 <h5 class="font-size-14 mb-0">Indeferido</h5>
                              </div>
                              <div class="text-muted mt-4">
                                 <h4 id="cuosIndeferido"><i class="mdi mdi-chevron-up ms-1 text-success"></i></h4>
                                 <div class="d-flex">
                                    <span class="badge badge-soft-success font-size-12"></span>
                                    <span class="ms-2 text-truncate">CUOS Indeferido</span>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="col-sm-4">
                        <div class="card">
                           <div class="card-body">
                              <div class="d-flex align-items-center mb-3">
                                 <div class="avatar-xs me-3">
                                    <span
                                       class="avatar-title rounded-circle bg-primary bg-soft text-primary font-size-18">
                                    <i class="bx bx-archive-in"></i>
                                    </span>
                                 </div>
                                 <h5 id="" class="font-size-14 mb-0">Deferido</h5>
                              </div>
                              <div class="text-muted mt-4">
                                 <h4 id="cuosDeferido"><i class="mdi mdi-chevron-up ms-1 text-success"></i></h4>
                                 <div class="d-flex">
                                    <span class="badge badge-soft-success font-size-12"></span>
                                    <span class="ms-2 text-truncate">CUOS Deferido</span>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                     <!--  end row -->
                  </div>
               </div>
            </div>
            <div class="row" id="sectionCandidatos">
               <div class="col-12">
                  <div class="card">
                     <div class="card-body">
                        <div class="row">
                           <div class="col-12 text-left d-flex justify-content-left titulo-emitir-nota"
                              style="justify-content: space-between;">
                              <h2 class="card-title">Lista de Candidatos</h2>
                           </div>
                        </div>
                        <div class="pt-2">
                           <table id="datatable-buttons"
                              class="table-striped table table-bordered dt-responsive nowrap w-100">
                           </table>
                        </div>
                     </div>
                  </div>
               </div>
               <!-- end col -->
            </div>
         </div>
         <div class="tab-pane active" id="faturas" role="tabpanel">
            <div class="row">
               <div class="col-xl-12">
                  <div class="row">
                     <div class="col-sm-4">
                        <div class="card">
                           <div class="card-body">
                              <div class="d-flex align-items-center mb-3">
                                 <div class="avatar-xs me-3">
                                    <span
                                       class="avatar-title rounded-circle bg-primary bg-soft text-primary font-size-18">
                                    <i class="bx bx-copy-alt"></i>
                                    </span>
                                 </div>
                                 <h5 class="font-size-14 mb-0">Total de Sites</h5>
                              </div>
                              <div class="text-muted mt-4">
                                 <h4 id="totalSites"><i class="mdi mdi-chevron-up ms-1 text-success"></i></h4>
                                 <!--div class="d-flex">
                                    <span class="ms-2 text-truncate">Total de Sites</span>
                                    </div-->
                              </div>
                           </div>
                        </div>
                     </div>
                     <!-- <div class="col-sm-4">
                        <div class="card">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="avatar-xs me-3">
                                        <span
                                            class="avatar-title rounded-circle bg-primary bg-soft text-primary font-size-18">
                                            <i class="bx bx-copy-alt"></i>
                                        </span>
                                    </div>
                                    <h5 class="font-size-14 mb-0">Candidatos</h5>
                                </div>
                                <div class="text-muted mt-4">
                                    <h4> 00<i class="mdi mdi-chevron-up ms-1 text-success"></i></h4>
                                    <div class="d-flex">
                        
                                        <span class="ms-2 text-truncate">Total de Candidatos</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        </div> -->
                     <!-- <div class="col-sm-4">
                        <div class="card">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="avatar-xs me-3">
                                        <span
                                            class="avatar-title rounded-circle bg-primary bg-soft text-primary font-size-18">
                                            <i class="bx bx-archive-in"></i>
                                        </span>
                                    </div>
                                    <h5 class="font-size-14 mb-0">Tarefas</h5>
                                </div>
                                <div class="text-muted mt-4">
                                    <h4>00 <i class="mdi mdi-chevron-up ms-1 text-success"></i></h4>
                                    <div class="d-flex">
                        
                                        <span class="ms-2 text-truncate">Total de Tarefas</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        </div> -->
                  </div>
               </div>
               <div class="row" id="sectionSites">
                  <div class="col-12">
                     <div class="card">
                        <div class="card-body">
                           <div class="row">
                              <div class="col-12 text-left d-flex justify-content-left titulo-emitir-nota"
                                 style="justify-content: space-between;">
                                 <h2 class="card-title">Lista de Sites</h2>
                              </div>
                           </div>
                           <div class="pt-2">
                              <table id="datatable-sites"
                                 class="table-striped table table-bordered dt-responsive nowrap w-100">
                              </table>
                           </div>
                        </div>
                     </div>
                  </div>
                  <!-- end col -->
               </div>
               <style>
                  /* .dataTables_filter {
                  float: left !important;
                  }*/
                  .dt-buttons{
                  float: right !important;
                  }
               </style>
            </div>
         </div>
      </div>


     <!-- MODAL VISUALIZAÇÃO CANDIDATOS POR SITE -->
      <div class="modal fade modalCandidatosPorSite" id="modalCandidatosPorSite" data-bs-keyboard="false" data-bs-backdrop="static"  tabindex="-1" role="dialog"
      aria-labelledby="myLargeModalLabel" aria-hidden="true">
         <div class="modal-dialog" style="max-width: 1200px;">
             <div class="modal-content">
                 <div  class="modal-header">
                     <h5 class="modal-title add-task-title">Lista dos candidatos</h5>
                     <button type="button" class="btn-close" onclick="clearDataTable('datatable-buttons-candidatos')" data-bs-dismiss="modal" aria-label="Close"></button>
                 </div>
                 <div class="modal-body">
                      <table id="datatable-buttons-candidatos" class="table-striped table table-bordered dt-responsive nowrap w-100"> </table>
                 </div>
             </div>
         </div>
     </div>

      <!-- MODAL ATIVIDADES POR SITE -->
      <div id="modalAtividadesPorSite" data-bs-keyboard="false" data-bs-backdrop="static" class="modal fade modalAdicionarContato" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" aria-hidden="true">
         <div class="modal-dialog" style="max-width: 1200px;">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title add-task-title">Atividades</h5>
                  <button type="button" class="btn-close" onclick="clearDataTable('datatable-buttons-atividades')" data-bs-dismiss="modal" aria-label="Close"></button>
               </div>
               <div class="modal-body">
                  <table id="datatable-buttons-atividades" class="table-striped table table-bordered dt-responsive nowrap w-100"> </table>
               </div>
               </div>
            </div>
            <!-- /.modal-content -->
         </div>
         <!-- /.modal-dialog -->
      </div>

      <!-- /.modal -->
      <!-- MODAL CANDIDATOS-->
      <div id="modalAdicionarCandidato" data-bs-keyboard="false" data-bs-backdrop="static" class="modal fade modalAdicionarCandidato" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" aria-hidden="true">
         <div class="modal-dialog modal-lg">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title add-task-title" id="modal_title_candidato">Novo Candidato</h5>
                  <button type="button" class="btn-close" aria-label="Close" onclick="closeModalCandidato()"></button>
               </div>
               <div class="modal-body">
                  <form id="form_candidato" role="form">
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Sigla do Candidato<span
                              class="text-danger">*</span></label>
                           <input id="form_candidato_sigla" name="taskbudget" type="text"
                              placeholder="Informe a Sigla do Candidato" class="form-control" maxlength="4" required>
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Site<span class="text-danger">*</span></label>
                           <select class="form-select " id="form_candidato_site"  required>
                              <option value="" selected>Selecione..</option>
                           </select>
                        </div>
                        <div class="col-lg-6">
                           <label class="col-form-label">Tipo de Site<span class="text-danger">*</span></label>
                           <select class="form-select validate" id="form_candidato_tipo_site" onchange="habilitarAlturaCand(this.id,1)" required>
                              <option value="" selected>Selecione..</option>
                           </select>
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Valor do Aluguel<span
                              class="text-danger">*</span></label>
                           <input id="form_candidato_aluguel" onInput="mascaraMoeda(event)" name="taskbudget"
                              type="text" placeholder="Informe o valor do aluguel" class="form-control"
                              required="" maxlength="15">
                        </div>
                        <div class="col-lg-6" id="tipo_propriedade_content">
                           <label class="col-form-label" id="tipo_propriedade">Tipo de Propriedade<span
                              class="text-danger">*</span></label>
                           <br>
                           <div class="form-check form-check-inline">
                              <input class="form-check-input" type="radio" name="form_tipo_propriedade"
                                 id="inlineRadio1" value="Compra">
                              <label class="form-check-label" for="form_tipo_propriedade">Compra</label>
                           </div>
                           <div class="form-check form-check-inline">
                              <input class="form-check-input" type="radio" name="form_tipo_propriedade"
                                 id="inlineRadio2" value="Aluguel">
                              <label class="form-check-label" for="form_tipo_propriedade">Aluguel</label>
                           </div>
                           <div class="form-check form-check-inline">
                              <input class="form-check-input" type="radio" name="form_tipo_propriedade"
                                 id="inlineRadio3" value="Outros">
                              <label class="form-check-label" for="form_tipo_propriedade">Outros</label>
                           </div>
                        </div>
                     </div>
                     <!-- <div class="row">
                        <div class="col-lg-6">
                        
                            <label class="col-form-label">CUOS<span class="text-danger">*</span></label>
                        
                            <select class="form-select validate" id="form_candidato_cuos"  required>
                                <option value="" selected>Selecione..</option>
                                <option value="A Protocolar">A Protocolar</option>
                                <option value="Deferido">Deferido</option>
                                <option value="Indeferido">Indeferido</option>
                                <option value="Em Análise">Em Análise</option>
                                <option value="N/A">N/A</option>
                                <option value="Sem Informação">Sem Informação</option>
                            </select>
                        
                        </div>
                        
                        <div class="col-lg-6">
                            <label class="col-form-label">Status do Candidato<span class="text-danger">*</span></label>
                            <select class="form-select validate" id="form_candidato_status" required>
                                <option value="Qualificação Interna" selected>Qualificação Interna</option>
                            </select>
                        </div>
                        </div> -->
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Proprietario<span class="text-danger">*</span></label>
                           <select class="form-select validate" id="form_candidato_proprietario" onchange="getContacts()"  required>
                              <option value="" selected>Selecione..</option>
                           </select>
                           <button type="button" class="btn btn-primary" id="btnNovoProprietario" style="margin-top: 16px; float: right;">Novo proprietário</button>
                        </div>
                        <div class="col-lg-6">
                           <label class="col-form-label">Contato<span class="text-danger">*</span></label>
                           <select class="form-select validate" id="form_candidato_contato" required disabled>
                              <option value="" selected>Selecione..</option>
                           </select>
                           <button id="btnAddContact" type="button" onclick="abrirModalNewContact()" class="btn btn-primary" style="margin-top: 16px; float: right;">Novo contato</button>
                        </div>
                     </div>
                     <div class="row pt-4">
                        <div class="col-lg-12">
                           <h6> Caracteristicas do Candidato:</h6>
                           <hr>
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-4">
                           <label class="col-form-label">CEP<span class="text-danger">*</span></label>
                           <input id="form_candidato_cep" name="taskbudget" type="text"
                              placeholder="Informe o CEP" class="form-control" maxlength="8" onkeypress="return /^-?[0-9]\d*(\.\d+)?$/.test(event.key)">
                           <a href="https://buscacepinter.correios.com.br/app/endereco/index.php"
                              target="_blank"><small id="emailHelp" class="form-text text-muted">Não localizou o CEP. Clique aqui!</small></a>
                           <input id="form_candidato_cep_antigo"  name="taskbudget" type="hidden"
                              class="form-control">
                        </div>
                        <div class="col-lg-4">
                           <label class="col-form-label">Endereço</span></label>
                           <input id="form_candidato_endereco" maxlength="200" name="taskbudget" type="text"
                              placeholder="Informe o Endereço" class="form-control" >
                        </div>
                        <div class="col-lg-4">
                           <label class="col-form-label">Numero</span></label>
                           <input id="form_candidato_numero" maxlength="10" name="taskbudget" type="text"
                              placeholder="Informe o Numero do local" class="form-control" onkeypress="return /^-?[0-9]\d*(\.\d+)?$/.test(event.key)" >
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-4">
                           <label class="col-form-label">Complemento</span></label>
                           <input id="form_candidato_complemento" name="taskbudget" type="text"
                              placeholder="Informe Complemento" maxlength="50" class="form-control" >
                        </div>
                        <div class="col-lg-4">
                           <label class="col-form-label">Bairro</span></label>
                           <input id="form_candidato_bairro" name="taskbudget" type="text"
                              placeholder="Informe o Bairro" maxlength="150" class="form-control"  required>
                        </div>
                        <div class="col-lg-4">
                           <label class="col-form-label">Município</span></label>
                           <input id="form_candidato_municipio" name="taskbudget" type="text"
                              placeholder="Informe o Município" maxlength="80" class="form-control">
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-4">
                           <label class="col-form-label">UF</label>
                           <input id="form_candidato_uf" name="taskbudget" maxlength="2" type="text" placeholder="Informe a UF" class="form-control">
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Distancia PN<span class="text-danger">*</span></label>
                           <input id="form_candidato_distancia_pn" maxlength="15" name="taskbudget" type="text"
                              placeholder="Informe a Distancia PN"  class="form-control" required="" onkeyup="this.value = this.value.replace(/^\.|[^-?\d\.]|\.(?=.*\.)|^0+(?=\d)/g, '')
">
                        </div>
                        <div class="col-lg-6">
                           <label class="col-form-label">Pré-Comar(m)<span class="text-danger">*</span></label>
                           <input id="form_candidato_pre_comar"  maxlength="50" name="taskbudget" type="text"
                              placeholder="Informe o Pré-Comar(m)" class="form-control" required="">
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Largura Área Locada<span
                              class="text-danger">*</span></label>
                           <input id="form_candidato_largura_area_normal" maxlength="15"  onblur="calculoarea()" name="taskbudget" type="text"
                              placeholder="Informe a Largura Área Locada" class="form-control" required="" onkeyup="this.value = this.value.replace(/^\.|[^-?\d\.]|\.(?=.*\.)|^0+(?=\d)/g, '')
">
                        </div>
                        <div class="col-lg-6">
                           <label class="col-form-label">Profundidade Área Locada<span class="text-danger">*</span></label>
                           <input id="form_candidato_profundidade_normal"  maxlength="15"  onblur="calculoarea()" name="taskbudget" type="text"
                              placeholder="Informe a Profundidade" class="form-control" required="" onkeyup="this.value = this.value.replace(/^\.|[^-?\d\.]|\.(?=.*\.)|^0+(?=\d)/g, '')
">
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-4">
                           <label class="col-form-label">Corredor de Acesso?<span
                              class="text-danger">*</span></label>
                           <select class="form-select validate" id="form_candidato_corredor" onchange="corredorAcessoCand(this.value,'1'),calculoarea()" required>
                              <option value="" selected>Selecione..</option>
                              <option value="Sim">Sim</option>
                              <option value="Não">Não</option>
                           </select>
                        </div>
                        <div class="col-lg-4 corredoracesso">
                           <label class="col-form-label">Largura Área Locada<span
                              class="text-danger"></span></label>
                           <input id="form_candidato_largura_area" onblur="calculoarea()" name="taskbudget" type="text"
                              placeholder="Informe a Largura Área Locada"  maxlength="15" class="form-control" onkeyup="this.value = this.value.replace(/^\.|[^-?\d\.]|\.(?=.*\.)|^0+(?=\d)/g, '')
">
                        </div>
                        <div class="col-lg-4 corredoracesso">
                           <label class="col-form-label">Profundidade<span class="text-danger"></span></label>
                           <input id="form_candidato_profundidade" onblur="calculoarea()" name="taskbudget" type="text"
                              placeholder="Informe a Profundidade"  maxlength="15" class="form-control" onkeyup="this.value = this.value.replace(/^\.|[^-?\d\.]|\.(?=.*\.)|^0+(?=\d)/g, '')">
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Área Locada Total<span class="text-danger"></span></label>
                           <input id="form_candidato_area_locada" disabled name="taskbudget" type="text"
                              placeholder="Informe Área Locada" class="form-control">
                        </div>
                        <div class="col-lg-6 alturaedificioadd">
                           <label class="col-form-label">Altura do Edifício<span
                              class="text-danger"></span></label>
                           <input id="form_candidato_altura_edificio" name="taskbudget" type="text"
                              placeholder="Informe a Altura do Edifício"  maxlength="15" class="form-control" onkeyup="this.value = this.value.replace(/^\.|[^-?\d\.]|\.(?=.*\.)|^0+(?=\d)/g, '')
">
                        </div>
                     </div>
                     <div class="row pt-4">
                        <div class="col-lg-12">
                           <h6> Latitude & Longitude </h6>
                           <hr>
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">OPÇÃO<span class="text-danger">*</span></label>
                           <br>
                           <select class="form-select validate" id="form_tipo_opcao" onchange="escolhalatlongCand(this.value,'1')" required>
                              <option value="" selected>Selecione..</option>
                              <option value="Decimal">Decimal</option>
                              <option  value="UTM">UTM</option>
                           </select>
                        </div>
                     </div>
                     <div class="row">
                        <div class="row latitudecand" style="display: none;">
                           <div class="col-lg-6">
                              <label class="col-form-label">Latitude <span
                                 class="text-danger">*</span></label>
                              <input id="form_candidato_latitude" name="taskbudget" type="text"
                                 placeholder="Informe a Largura Área Locada" class="form-control" maxlength="11" onkeyup="this.value = this.value.replace(/^\.|[^-?\d\.]|\.(?=.*\.)|^0+(?=\d)/g, '')
" required >
                              <small id="emailHelp" class="form-text text-muted">Ex.: -23.1234</small>
                           </div>
                           <div class="col-lg-6">
                              <label class="col-form-label">Longitude <span
                                 class="text-danger">*</span></label>
                              <input id="form_candidato_longitude" name="taskbudget" type="text"
                                 placeholder="Informe a Largura Área Locada" class="form-control" maxlength="11"  onkeyup="this.value = this.value.replace(/^\.|[^-?\d\.]|\.(?=.*\.)|^0+(?=\d)/g, '')
" required>>
                              <small id="emailHelp" class="form-text text-muted">Ex.: -46.1234</small>
                           </div>
                        </div>
                        <div class="row utmcand">
                           <div class="row">
                              <div class="col-lg-6">
                                 <label class="col-form-label">Grau LAT<span class="text-danger">*</span></label>
                                 <input
                                    id="form_candidato_grauLat" name="taskbudget" type="text"
                                    placeholder="Informe o Grau Latitudinal" maxlength="2" class="form-control"
                                    tabindex="1001" onkeypress="return /^-?[0-9]\d*(\.\d+)?$/.test(event.key)"
                                    >
                                 <small id="emailHelp" class="form-text text-muted">Ex: 23</small>

                              </div>
                              <div class="col-lg-6">
                                 <label class="col-form-label">
                                 Grau LONG<span class="text-danger">*</span>
                                 </label>
                                 <input
                                    id="form_candidato_grauLong" name="taskbudget" type="text"
                                    placeholder="Informe o Grau Longitudinal" class="form-control"
                                    tabindex="1005" maxlength="2" onkeypress="return /^-?[0-9]\d*(\.\d+)?$/.test(event.key)"
                                    >
                                 <small id="emailHelp" class="form-text text-muted">Ex: 15</small>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-6">
                                 <label class="col-form-label">
                                 Minuto LAT<span class="text-danger">*</span>
                                 </label>
                                 <input
                                    id="form_candidato_minutoLat" name="taskbudget" type="text"
                                    placeholder="Informe o  minuto Latitudinal" class="form-control"
                                    tabindex="1002" maxlength="2" onkeypress="return /^-?[0-9]\d*(\.\d+)?$/.test(event.key)"
                                    >
                                 <small id="emailHelp" class="form-text text-muted">Ex: 37</small>
                              </div>
                              <div class="col-lg-6">
                                 <label class="col-form-label">
                                 Minuto LONG <span class="text-danger">*</span>
                                 </label>
                                 <input
                                    id="form_candidato_minutLong" name="taskbudget" type="text"
                                    placeholder="Informe o minuto Longitudinal" class="form-control"
                                    tabindex="1006" maxlength="2" onkeypress="return /^-?[0-9]\d*(\.\d+)?$/.test(event.key)"
                                    >
                                 <small id="emailHelp" class="form-text text-muted">Ex: 9</small>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-6">
                                 <label class="col-form-label">
                                 Segundo LAT <span class="text-danger">*</span>
                                 </label>
                                 <input
                                    id="form_candidato_segundoLat" name="taskbudget" type="text"
                                    placeholder="Informe o segundo Longitudinal" class="form-control"
                                    tabindex="1003" maxlength="8" onkeyup="this.value = this.value.replace(/^\.|[^-?\d\.]|\.(?=.*\.)|^0+(?=\d)/g, '')
"
                                    >
                                 <small id="emailHelp" class="form-text text-muted">Ex: 47.667</small>
                              </div>
                              <div class="col-lg-6">
                                 <label class="col-form-label">
                                 Segundo LONG<span class="text-danger">*</span>
                                 </label>
                                 <input
                                    id="form_candidato_segundoLong" name="taskbudget" type="text"
                                    placeholder="Informe o segundo Longitudinal" class="form-control"
                                    tabindex="1007" maxlength="8" onkeyup="this.value = this.value.replace(/^\.|[^-?\d\.]|\.(?=.*\.)|^0+(?=\d)/g, '')
"
                                    >
                                 <small id="emailHelp" class="form-text text-muted">Ex: 41.8793</small>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-6">
                                 <label class="col-form-label">
                                 Ponto Cardeal LAT<span class="text-danger">*</span>
                                 </label>
                                 <select
                                    class="form-select validate" id="form_candidato_pontoCardealLat"
                                    tabindex="1004"
                                    required>
                                    <option value="" selected>Selecione..</option>
                                    <option value="N">N</option>
                                    <option value="S">S</option>
                                 </select>
                              </div>
                              <div class="col-lg-6">
                                 <label class="col-form-label">
                                 Ponto Cardeal LONG<span class="text-danger">*</span>
                                 </label>
                                 <select
                                    class="form-select validate" id="form_candidato_pontoCardealLong"
                                    tabindex="1008"
                                    required>
                                    <option value="" selected>Selecione..</option>
                                    <option value="E">E</option>
                                    <option value="W">W</option>
                                 </select>
                              </div>
                           </div>
                        </div>
                        <div class="row">
                           <div class="col-lg-4">
                              <label class="col-form-label">Altitude<span class="text-danger">*</span></label>
                              <input id="form_candidato_altitude" name="taskbudget" type="text"
                                 placeholder="Informe a Altitude"  maxlength="10" class="form-control" onkeypress="return /^-?[0-9]\d*(\.\d+)?$/.test(event.key)">
                           </div>
                        </div>
                        <div class="row pt-4">
                           <div class="col-lg-12">
                              <h6> Itens Obrigatórios:</h6>
                              <hr>
                           </div>
                        </div>
                        <div class="row">
                           <div class="col-lg-6">
                              <label class="col-form-label font-size-12">O candidato está localizado dentro do anel de busca?<span
                                 class="text-danger"></span>*</label>
                              <br>
                              <div class="form-check">
                                 <input value="Sim" class="form-check-input" type="radio" name="anelBusca" id="flexRadioDefault1">
                                 <label class="form-check-label" for="flexRadioDefault1">
                                 SIM
                                 </label>
                              </div>
                              <div class="form-check">
                                 <input value="Não" class="form-check-input" type="radio" name="anelBusca" id="flexRadioDefault2" >
                                 <label class="form-check-label" for="flexRadioDefault2">
                                 NÃO
                                 </label>
                              </div>
                           </div>
                           <div class="col-lg-6">
                              <label class="col-form-label">Justifique:<span class="text-danger"></span></label>
                              <textarea id="form_candidato_candidatolocalizado" disabled style="width: 100%; height: 150px; resize: none;" name="taskbudget"></textarea>
                           </div>
                        </div>
                        <div class="row">
                           <div class="col-lg-6">
                              <label class="col-form-label font-size-12">O proprietário está interessado no uso proposto?<span
                                 class="text-danger">*</span></label>
                              <br>
                              <div class="form-check">
                                 <input  value="Sim" class="form-check-input" type="radio" name="usoProposto" id="flexRadioDefault1">
                                 <label class="form-check-label" for="flexRadioDefault1">
                                 SIM
                                 </label>
                              </div>
                              <div class="form-check">
                                 <input value="Não" class="form-check-input" type="radio" name="usoProposto" id="flexRadioDefault2" >
                                 <label class="form-check-label" for="flexRadioDefault2">
                                 NÃO
                                 </label>
                              </div>
                           </div>
                           <div class="col-lg-6">
                              <label class="col-form-label">Justifique:<span class="text-danger"></span></label>
                              <textarea id="form_candidato_proprietariointeressado" disabled style="width: 100%; height: 150px; resize: none;" name="taskbudget"></textarea>
                           </div>
                        </div>
                        <div class="row">
                           <div class="col-lg-6">
                              <label class="col-form-label font-size-12">A área locada atende os requisitos mínimos exigidos pela legislação local?<span
                                 class="text-danger">*</span></label>
                              <br>
                              <div class="form-check">
                                 <input value="Sim" class="form-check-input" type="radio" name="legislacaoLocal" id="flexRadioDefault1">
                                 <label class="form-check-label" for="flexRadioDefault1">
                                 SIM
                                 </label>
                              </div>
                              <div class="form-check">
                                 <input value="Não" class="form-check-input" type="radio" name="legislacaoLocal" id="flexRadioDefault2" >
                                 <label class="form-check-label" for="flexRadioDefault2">
                                 NÃO
                                 </label>
                              </div>
                           </div>
                           <div class="col-lg-6">
                              <label class="col-form-label">Justifique:<span class="text-danger"></span></label>
                              <textarea id="form_candidato_arealocadaatende" disabled style="width: 100%; height: 150px; resize: none;" name="taskbudget"></textarea>
                           </div>
                        </div>
                        <div class="row">
                           <div class="col-lg-6">
                              <label class="col-form-label font-size-12">A documentação necessária está disponível?<span class="text-danger">*</span></label>
                              <br>
                              <div class="form-check">
                                 <input value="Sim" class="form-check-input" type="radio" name="documentacao" id="flexRadioDefault1">
                                 <label class="form-check-label" for="flexRadioDefault1">
                                 SIM
                                 </label>
                              </div>
                              <div class="form-check">
                                 <input value="Não" class="form-check-input" type="radio" name="documentacao" id="flexRadioDefault2">
                                 <label class="form-check-label" for="flexRadioDefault2">
                                 NÃO
                                 </label>
                              </div>
                           </div>
                           <div class="col-lg-6">
                              <label class="col-form-label">Justifique:<span class="text-danger"></span></label>
                              <textarea id="form_candidato_justifique_documentacaonecessaria" disabled style="width: 100%; height: 150px; resize: none;" name="taskbudget"></textarea>
                           </div>
                        </div>
                        <div class="row">
                           <div class="col-lg-6">
                              <label class="col-form-label font-size-12">O acesso ao site está disponível 24horas/dia 7dias/semana?<span
                                 class="text-danger">*</span></label>
                              <br>
                              <div class="form-check">
                                 <input value="Sim" class="form-check-input" type="radio" name="acesso" id="flexRadioDefault1">
                                 <label class="form-check-label" for="flexRadioDefault1">
                                 SIM
                                 </label>
                              </div>
                              <div class="form-check">
                                 <input value="Não" class="form-check-input" type="radio" name="acesso" id="flexRadioDefault2" >
                                 <label class="form-check-label" for="flexRadioDefault2">
                                 NÃO
                                 </label>
                              </div>
                           </div>
                           <div class="col-lg-6">
                              <label class="col-form-label">Justifique:<span class="text-danger"></span></label>
                              <textarea id="form_candidato_justifique_acessodisponivel" disabled style="width: 100%; height: 150px; resize: none;" name="taskbudget"></textarea>
                           </div>
                        </div>
                        <div class="row">
                           <div class="col-lg-6">
                              <label class="col-form-label font-size-12">Existe energia disponível no site?<span class="text-danger">*</span></label>
                              <br>
                              <div class="form-check">
                                 <input value="Sim" class="form-check-input" type="radio" name="energia" id="flexRadioDefault1">
                                 <label class="form-check-label" for="flexRadioDefault1">
                                 SIM
                                 </label>
                              </div>
                              <div class="form-check">
                                 <input value="Não" class="form-check-input" type="radio" name="energia" id="flexRadioDefault2" >
                                 <label class="form-check-label" for="flexRadioDefault2">
                                 NÃO
                                 </label>
                              </div>
                           </div>
                           <div class="col-lg-6">
                              <label class="col-form-label">Justifique:<span class="text-danger"></span></label>
                              <textarea id="form_candidato_justifique_energiadisponivel" disabled style="width: 100%; height: 150px; resize: none;" name="taskbudget"></textarea>
                           </div>
                        </div>
                        <div class="row">
                           <div class="col-lg-6">
                              <label class="col-form-label font-size-12">Existe alguma obstrução ou interferência visível?<span
                                 class="text-danger">*</span></label>
                              <br>
                              <div class="form-check">
                                 <input value="Sim" class="form-check-input" type="radio" name="obstrucao" id="flexRadioDefault1">
                                 <label class="form-check-label" for="flexRadioDefault1">
                                 SIM
                                 </label>
                              </div>
                              <div class="form-check">
                                 <input value="Não" class="form-check-input" type="radio" name="obstrucao" id="flexRadioDefault2" >
                                 <label class="form-check-label" for="flexRadioDefault2">
                                 NÃO
                                 </label>
                              </div>
                           </div>
                           <div class="col-lg-6">
                              <label class="col-form-label">Justifique:<span class="text-danger"></span></label>
                              <textarea id="form_candidato_justifique_obstrucao" disabled style="width: 100%; height: 150px; resize: none;" name="taskbudget"></textarea>
                           </div>
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-12">
                           <label class="col-form-label">Observação<span class="text-danger">*</span></label>
                           <textarea id="form_candidato_observacao" style="width: 100%; height: 150px; resize: none;" name="taskbudget"></textarea>
                        </div>
                     </div>
                     <div class="col-lg-6">
                        <div class="mt-3">
                           <label for="formFile" class="form-label">Anexo</label>
                           <input id="form_candidato_anexo" name="form_cliente_anexo" value="4194304"
                              accept=".gif,.png, .pdf, .doc , .csv, .xlsx, .xls, .jpg, .jpeg, .docx"
                              class="form-control" type="file">
                        </div>
                     </div>
                     <div class="rowCenterItems">
                        <button type="button" class="btn btn-primary" id="addCandidato" onclick="createEditCandidato()">Cadastrar</button>
                        <button type="button" class="btn btn-primary" id="editCandidato" style="display: none;" onclick="enableFieldsToEdit()">Editar candidato</button>
                        <script>
                           function enableFieldsToEdit() {
                              desabilitarCampoCandidato(false, false)
                              $('#editCandidato').css('display', 'none')
                              $('#modal_title_candidato').text("Editar candidato")

                              $('#addCandidato')
                                 .css('display', 'block')
                                 .text("Salvar alterações")
                           }
                        </script>
                     </div>
                  </form>
               </div>
            </div>
            <!-- /.modal-content -->
         </div>
         <!-- /.modal-dialog -->
      </div>
      <!-- /.modal -->

      <!-- MODAL SITES-->
      <div id="modalAdicionarSite" data-bs-keyboard="false" data-bs-backdrop="static" class="modal fade modalAdicionarSite" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" aria-hidden="true">
         <div class="modal-dialog modal-lg">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title add-task-title" id="titleFormSite">Adicionar Novo Site</h5>
                  <button type="button" class="btn-close" onclick="closeModalSite()" aria-label="Close"></button>
               </div>
               <div class="modal-body">
                  <form id="form_add_site" role="form">
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Cliente<span class="text-danger">*</span></label>
                           <select class="form-select validate" id="form_cliente_site" tabindex="1900" required>
                              <option value="" selected>Selecione..</option>
                           </select>
                        </div>
                        <div class="col-lg-6">
                           <label class="col-form-label">ID Site Mobilize/Centro de custo<span class="text-danger">*</span></label>
                           <input id="form_cliente_IdsiteMobilize" maxlength="50" name="taskbudget" tabindex="1901" type="text"
                              placeholder="Informe o ID Site Mobilize" class="form-control" >
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Operadora<span class="text-danger">*</span></label>
                           <select class="form-select validate" id="form_cliente_operadora" tabindex="1902" required>
                              <option value="" selected>Selecione..</option>
                           </select>
                        </div>
                        <div class="col-lg-6">
                           <label class="col-form-label">ID Site Sharing<span class="text-danger">*</span></label>
                           <input id="form_cliente_Idsharing" name="taskbudget" tabindex="1903" type="text"
                              placeholder="Informe a Sigla o ID Site Sharing" maxlength="20" class="form-control" required>
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Etapa<span class="text-danger"></span></label>
                           <select class="form-select validate" id="form_cliente_etapa" required disabled>
                           </select>
                        </div>
                        <div class="col-lg-6">
                           <label class="col-form-label">ID Site Operadora<span
                              class="text-danger">*</span></label>
                           <input id="form_cliente_idSiteOperadora" name="taskbudget" tabindex="1904" type="text"
                              placeholder="Informe a Sigla o ID Site Operadora" maxlength="20" class="form-control" required>
                        </div>
                     </div>
                     <div class="row">
                        <!-- <div class="col-lg-6">
                           <label class="col-form-label">Tipo Site<span class="text-danger"></span></label>
                           <select class="form-select" id="form_cliente_tipoSite" tabindex="1905" onchange="habilitarAlturaSite(this.id,1)">
                              <option value="" selected>Selecione...</option>
                           </select>
                        </div> -->
                        <div class="col-lg-6">
                           <label class="col-form-label">Data de Acionamento<span
                              class="text-danger">*</span></label>
                           <input id="form_cliente_dataAcionamento" name="taskbudget" type="date" tabindex="1906" placeholder="Informe a Data de Acionamento" class="form-control" required>
                           <input id="form_cliente_dataAcionamento_view" name="taskbudget" type="text" tabindex="1907" style="display: none;" class="form-control">
                        </div>
                        <div class="col-lg-6">
                           <label class="col-form-label">Projeto<span class="text-danger">*</span></label>
                           <input id="form_cliente_projeto" name="taskbudget" maxlength="150" type="text"
                              placeholder="Informe o Nome do Projeto" class="form-control" tabindex="1907" required>
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Sub Projeto<span class="text-danger"></span></label>
                           <input id="form_cliente_subProjeto" name="taskbudget" tabindex="1908" maxlength="150" type="text" placeholder="Informe o Sub Projeto" class="form-control">
                        </div>
                        <div class="col-lg-6">
                           <label class="col-form-label">Target do Aluguel<span class="text-danger"></span></label>
                           <input id="form_cliente_targetAluguel" onInput="mascaraMoeda(event)" name="taskbudget"
                              type="text" placeholder="Informe o Target do Aluguel" class="form-control" tabindex="1909"
                              required="" maxlength="15">
                        </div>
                     </div>
                     <div class="row pt-4">
                        <div class="col-lg-12">
                           <h6> Localização do Site</h6>
                           <hr>
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">UF<span class="text-danger">*</span></label>
                           <select class="form-select validate" id="form_site_uf" onchange="getMunicipios('form_site_municipio', this.value, null,1, true),getRegional('form_cliente_regional', this.id)" tabindex="1910" required>
                              <option value="" selected>Selecione...</option>
                           </select>
                        </div>
                        <div class="col-lg-6">
                           <label class="col-form-label">Município<span class="text-danger">*</span></label>
                           <div class="col-lg-12">
                              <select class="form-select validate" id="form_site_municipio" tabindex="1911" required>
                                 <option value="" selected>Selecione...</option>
                              </select>
                           </div>
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Regional<span class="text-danger"></span></label>
                           <select class="form-select" id="form_cliente_regional" disabled>
                              <option value="" selected>Selecione..</option>
                              <option value="Norte">Norte</option>
                              <option value="Nordeste">Nordeste</option>
                              <option value="Centro Oeste">Centro Oeste</option>
                              <option value="Sudeste">Sudeste</option>
                              <option value="Sul">Sul</option>
                           </select>
                        </div>
                        <div class="col-lg-6">
                           <label class="col-form-label">Raio de Busca (M)<span class="text-danger">*</span></label>
                           <select class="form-select validate" id="form_cliente_raioBusca" tabindex="1912" required>
                              <option value="" selected>Selecione..</option>
                              <option value="50">50</option>
                              <option value="100">100</option>
                              <option value="150">150</option>
                              <option value="190">190</option>
                              <option value="200">200</option>
                              <option value="300">300</option>
                              <option value="400">400</option>
                              <option value="500">500</option>
                              <option value="600">600</option>
                              <option value="700">700</option>
                              <option value="Polígono">Polígono</option>
                              <option value="Sem Raio">Sem Raio</option>
                              <option value="N/A">N/A</option>
                           </select>
                        </div>
                     </div>
                     <div class="row alturaprevistaadd">
                        <div class="col-lg-6">
                           <label class="col-form-label">Altura Prevista (M)<span
                              class="text-danger">*</span></label>
                           <select class="form-select validate" id="form_cliente_alturaPrevista" tabindex="1913" required>
                              <option value="" selected>Selecione..</option>
                              <option value="0">0</option>
                              <option value="10">10</option>
                              <option value="12">12</option>
                              <option value="18">18</option>
                              <option value="20">20</option>
                              <option value="25">25</option>
                              <option value="30">30</option>
                              <option value="35">35</option>
                              <option value="40">40</option>
                              <option value="50">50</option>
                              <option value="51">51</option>
                              <option value="60">60</option>
                              <option value="Definir">Definir</option>
                              <option value="N/A">N/A</option>
                           </select>
                        </div>
                     </div>
                     <div class="row pt-4">
                        <div class="col-lg-12">
                           <h6 id="lat"> Latitude & Longitude </h6>
                           <hr>
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Opção<span class="text-danger">*</span></label>
                           <select class="form-select validate" id="form_cliente_opcao" onchange="escolhalatlong(this.value,1);" tabindex="1914">
                              <option value="" selected>Selecione..</option>
                              <option value="Decimal">Decimal</option>
                              <option  value="UTM">UTM</option>
                           </select>
                        </div>
                        <div id="container" class="latlongsessaocriar">
                           <div class="row" id="lat_long">
                              <div class="col-lg-6">
                                 <label class="col-form-label">Latitude <span class="text-danger">*</span></label>
                                 <input id="form_cliente_latitude" maxlength="11" name="taskbudget" type="text"
                                    placeholder="Informe a Latitude" class="form-control" onkeyup="this.value = this.value.replace(/^\.|[^-?\d\.]|\.(?=.*\.)|^0+(?=\d)/g, '')
">
                                 <small id="emailHelp" class="form-text text-muted">Ex.: -23.1234</small>
                              </div>
                              <div class="col-lg-6">
                                 <label class="col-form-label">Longitude <span class="text-danger">*</span></label>
                                 <input id="form_cliente_longitude" maxlength="11" name="taskbudget" type="text"
                                    placeholder="Informe a Longitude" class="form-control" onkeyup="this.value = this.value.replace(/^\.|[^-?\d\.]|\.(?=.*\.)|^0+(?=\d)/g, '')
">
                                 <small id="emailHelp" class="form-text text-muted">Ex.: -46.1234</small>
                              </div>
                           </div>
                        </div>
                        <div id="utm_element" class="utmsessaocriar">
                           <div class="row">
                              <div class="col-lg-6">
                                 <label class="col-form-label">Grau LAT <span class="text-danger">*</span></label>
                                 <input id="form_cliente_grauLat" maxlength="2" name="taskbudget" type="text"
                                    placeholder="Informe o Grau Latitudinal" class="form-control"
                                    tabindex="1921" onkeypress="return /^-?[0-9]\d*(\.\d+)?$/.test(event.key)">
                                 <small id="emailHelp" class="form-text text-muted">Ex: 23</small>
                              </div>
                              <div class="col-lg-6">
                                 <label class="col-form-label">Grau LONG <span class="text-danger">*</span></label>
                                 <input id="form_cliente_grauLong" max="2" name="taskbudget" type="text"
                                    placeholder="Informe o Grau Longitudinal" class="form-control"
                                    tabindex="1925" onkeypress="return /^-?[0-9]\d*(\.\d+)?$/.test(event.key)">
                                 <small id="emailHelp" class="form-text text-muted">Ex: 15</small>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-6">
                                 <label class="col-form-label">Minuto LAT <span class="text-danger">*</span></label>
                                 <input id="form_cliente_minLat" maxlength="2" name="taskbudget" type="text"
                                    placeholder="Informe o  minuto Latitudinal" class="form-control"
                                    tabindex="1922" onkeypress="return /^-?[0-9]\d*(\.\d+)?$/.test(event.key)">
                                 <small id="emailHelp" class="form-text text-muted">Ex: 37</small>
                              </div>
                              <div class="col-lg-6">
                                 <label class="col-form-label">Minuto LONG <span class="text-danger">*</span></label>
                                 <input id="form_cliente_minLong" maxlength="2" name="taskbudget" type="text"
                                    placeholder="Informe o minuto Longitudinal" class="form-control"
                                    tabindex="1926" onkeypress="return /^-?[0-9]\d*(\.\d+)?$/.test(event.key)">
                                 <small id="emailHelp" class="form-text text-muted">Ex: 9</small>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-6">
                                 <label class="col-form-label">Segundo LAT <span class="text-danger">*</span></label>
                                 <input id="form_cliente_segLat" maxlength="8" name="taskbudget" type="text"
                                    placeholder="Informe o segundo Longitudinal" class="form-control"
                                    tabindex="1923" onkeyup="this.value = this.value.replace(/^\.|[^-?\d\.]|\.(?=.*\.)|^0+(?=\d)/g, '')">
                                 <small id="emailHelp" class="form-text text-muted">Ex: 47.667</small>
                              </div>
                              <div class="col-lg-6">
                                 <label class="col-form-label">Segundo LONG<span class="text-danger">*</span></label>
                                 <input id="form_cliente_segLong" name="taskbudget" maxlength="8" type="text"
                                    placeholder="Informe o segundo Longitudinal" class="form-control"
                                    tabindex="1927" onkeyup="this.value = this.value.replace(/^\.|[^-?\d\.]|\.(?=.*\.)|^0+(?=\d)/g, '')">
                                 <small id="emailHelp" class="form-text text-muted">Ex: 41.8793</small>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-6">
                                 <label class="col-form-label">Ponto Cardeal LAT<span class="text-danger">*</span></label>
                                 <select class="form-select validate" id="form_cliente_pontoCardealLat" tabindex="1924">
                                    <option value="" selected>Selecione..</option>
                                    <option value="N">N</option>
                                    <option value="S">S</option>
                                 </select>
                              </div>
                              <div class="col-lg-6">
                                 <label class="col-form-label">Ponto Cardeal LONG<span
                                    class="text-danger">*</span></label>
                                 <select class="form-select validate" id="form_cliente_pontoCardealLong" tabindex="1928">
                                    <option value="" selected>Selecione..</option>
                                    <option value="E">E</option>
                                    <option value="W">W</option>
                                 </select>
                              </div>
                           </div>
                        </div>
                        <div class="row pt-4">
                           <div class="col-lg-12">
                              <h6> Coordenadores </h6>
                              <hr>
                           </div>
                        </div>
                        <div class="row">
                           <div class="col-lg-6">
                              <label class="col-form-label">Coordenador Cliente<span
                                 class="text-danger"></span></label>
                              <select class="form-select validate" tabindex="1929" id="form_cliente_coordenadorCliente">
                                 <option value="" selected>Selecione..</option>
                              </select>
                           </div>
                           <div class="col-lg-6">
                              <label class="col-form-label">Coordenador Mobilize<span
                                 class="text-danger"></span></label>
                              <select class="form-select validate" tabindex="1930" id="form_cliente_coordenadorMobilize"  >
                                 <option value="" selected>Selecione..</option>
                              </select>
                           </div>
                        </div>
                        <div class="row"></div>
                        <div class="col-lg-6">
                           <div class="mt-3" id="anexos">
                              <label for="formFile" class="form-label">Anexo</label>
                              <input id="form_cliente_anexo" name="form_cliente_anexo" tabindex="1931" value="4194304"
                                 accept=".gif,.png, .pdf, .doc , .csv, .xlsx, .xls, .jpg, .jpeg, .docx"
                                 class="form-control" type="file">
                           </div>
                        </div>
                     </div>
                     <div class="rowCenterItems">
                        <button type="button" class="btn btn-primary" id="addNewSite" onclick="addEditSite()">Criar Site</button>
                        <button type="button" class="btn btn-primary" style="display: none;"  id="btnEditarSite" onclick="disabledEnabledFieldsSite(false)">Editar Site</button>
                     </div>
                  </form>
               </div>
            </div>
            <!-- /.modal-content -->
         </div>
         <!-- /.modal-dialog -->
      </div>
      <!-- /.modal -->
   
      <!-- /.modal -->
      <!-- MODAL ADICIOANR PROPRIETARIO -->
      <div id="modalAdicionarProprietario" data-bs-keyboard="false" data-bs-backdrop="static" class="modal fade modalAdicionarProprietario" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" aria-hidden="true">
         <div class="modal-dialog modal-lg">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title add-task-title">Novo proprietário</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="resetForm('form_proprietario')"></button>
               </div>
               <div class="modal-body">
                  <form id="form_proprietario" role="form">
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Nome<span class="text-danger">*</span></label>
                           <input id="form_proprietario_nome" name="taskbudget" type="text"
                              placeholder="Informe o nome do proprietário" class="form-control" required>
                        </div>
                        <div class="col-lg-6">
                           <label class="col-form-label">CPF/CNPJ<span class="text-danger">*</span></label>
                           <input id="form_proprietario_cpf_cnpj" name="taskbudget" type="text" oninput="formatCnpjCpf(event, 'form_proprietario_razao_social')"
                              placeholder="Informe o CPF/CNPJ" class="form-control"  maxlength="18" required>
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-4">
                           <label class="col-form-label">Razão Social<span class="text-danger"></span></label>
                           <input id="form_proprietario_razao_social" name="taskbudget" type="text"
                              placeholder="Informe a Razão Social" class="form-control" required>
                        </div>
                        <div class="col-lg-4">
                           <label class="col-form-label">E-mail<span class="text-danger">*</span></label>
                           <input id="form_proprietario_email" name="taskbudget" type="text"
                              placeholder="Informe o E-mail" class="form-control" required>
                        </div>
                        <div class="col-lg-4">
                           <label class="col-form-label">Telefone<span class="text-danger">*</span></label>
                           <input id="form_proprietario_telefone" name="taskbudget" type="text" onkeydown="phoneMaskBrazil()"
                              maxlength="15" placeholder="Informe o Telefone" class="form-control" required>
                        </div>
                     </div>
                     <div class="row pt-4">
                        <div class="col-lg-12">
                           <h6> Endereço:</h6>
                           <hr>
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-4">
                           <label class="col-form-label">CEP<span class="text-danger">*</span></label>
                           <input id="form_proprietario_cep" name="taskbudget" type="text"
                              placeholder="Informe o CEP" class="form-control"  maxlength="8" onkeypress="return /^-?[0-9]\d*(\.\d+)?$/.test(event.key)">
                           <a href="https://buscacepinter.correios.com.br/app/endereco/index.php"
                              target="_blank"><small id="emailHelp" class="form-text text-muted">Não localizou o CEP. Clique aqui!</small></a>
                           <input id="form_proprietario_cep_antigo"  name="taskbudget" type="hidden"
                              class="form-control">
                        </div>
                        <div class="col-lg-4">
                           <label class="col-form-label">Endereço<span class="text-danger"></span></label>
                           <input id="form_proprietario_endereco" name="taskbudget" type="text"
                              placeholder="Informe o Endereço" class="form-control" maxlength="200">
                        </div>
                        <div class="col-lg-4">
                           <label class="col-form-label">Numero<span class="text-danger"></span></label>
                           <input id="form_proprietario_numero" name="taskbudget" type="text"
                              placeholder="Informe o Numero"  class="form-control" maxlength="10" onkeypress="return /^-?[0-9]\d*(\.\d+)?$/.test(event.key)">
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Complemento<span class="text-danger"></span></label>
                           <input id="form_proprietario_complemento" name="taskbudget" type="text"
                              placeholder="Informe Complemento"  class="form-control" maxlength="50" >
                        </div>
                        <div class="col-lg-6">
                           <label class="col-form-label">Bairro<span class="text-danger"></span></label>
                           <input id="form_proprietario_bairro" name="taskbudget" type="text"
                              placeholder="Informe o Bairro" class="form-control" maxlength="150" required>
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Município<span class="text-danger"></span></label>
                           <input id="form_proprietario_municipio" name="taskbudget" type="text"
                              placeholder="Informe o Município" class="form-control" maxlength="80">
                        </div>
                        <div class="col-lg-6">
                           <label class="col-form-label">UF<span class="text-danger"></span></label>
                           <input id="form_proprietario_uf" name="taskbudget" maxlength="2" type="text" placeholder="Informe a UF" class="form-control">
                        </div>
                     </div>
                     <div class="rowCenterItems">
                        <button type="button" class="btn btn-primary" id="btnAddProprietario" onclick="adicionarProprietario()">Criar proprietário</button>
                     </div>
                  </form>
               </div>
            </div>
            <!-- /.modal-content -->
         </div>
         <!-- /.modal-dialog -->
      </div>
      <!-- /.modal -->
      <!-- MODAL ADICIOANAR CONTATO -->
      <div id="modalAdicionarContato" data-bs-keyboard="false" data-bs-backdrop="static" class="modal fade modalAdicionarContato" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" aria-hidden="true">
         <div class="modal-dialog modal-lg"  style="width: max-content; ">
            <div class="modal-content" style="padding: 1rem">
               <div class="modal-header" style="padding: 0rem">
                  <h4 class="modal-title add-task-title">Novo contato</h4>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="resetForm('form_contato')"></button>
               </div>
               <div class="modal-body" style="padding: 0rem">
                  <form id="form_contato" role="form">
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Nome<span class="text-danger">*</span></label>
                           <input id="form_contato_nome" name="taskbudget" type="text"
                              placeholder="Informe o nome do contato" class="form-control" required>
                        </div>
                        <div class="col-lg-6">
                           <label class="col-form-label">Qualificação<span class="text-danger">*</span></label>
                           <select class="form-select validate" id="form_contato_qualificacao" required="">
                              <option value="">Selecione...</option>
                              <option value="">Administrador</option>
                              <option value="">Representante</option>
                              <option value="">Filho</option>                              
                           </select>
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">E-mail<span class="text-danger">*</span></label>
                           <input id="form_contato_email" name="taskbudget" type="text" 
                              placeholder="Informe o E-mail" class="form-control" required>
                        </div>
                        <div class="col-lg-6">
                           <label class="col-form-label">Telefone<span class="text-danger">*</span></label>
                           <input id="form_contato_telefone" name="taskbudget" type="text" onkeydown="phoneMaskBrazil()"
                              maxlength="15" placeholder="Informe o Telefone" class="form-control" required>
                        </div>
                     </div>
                     <div class="row pt-4">
                        <div class="col-lg-12">
                           <h6> Endereço:</h6>
                           <hr>
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-4">
                           <label class="col-form-label">CEP<span class="text-danger">*</span></label>
                           <input id="form_contato_cep" name="taskbudget" type="text"
                              placeholder="Informe o CEP" class="form-control"  maxlength="8" onkeypress="return /^-?[0-9]\d*(\.\d+)?$/.test(event.key)">
                           <a href="https://buscacepinter.correios.com.br/app/endereco/index.php"
                              target="_blank"><small id="emailHelp" class="form-text text-muted">Não localizou o CEP. Clique aqui!</small></a>
                           <input id="form_proprietario_cep_antigo"  name="taskbudget" type="hidden"
                              class="form-control">
                        </div>
                        <div class="col-lg-4">
                           <label class="col-form-label">Endereço</label>
                           <input id="form_contato_endereco" name="taskbudget" type="text"
                              placeholder="Informe o Endereço" class="form-control" maxlength="200">
                        </div>
                        <div class="col-lg-4">
                           <label class="col-form-label">Numero</label>
                           <input id="form_contato_numero" name="taskbudget" type="text"
                              placeholder="Informe o Numero"  class="form-control" maxlength="10" onkeypress="return /^-?[0-9]\d*(\.\d+)?$/.test(event.key)">
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Complemento</label>
                           <input id="form_contato_complemento" name="taskbudget" type="text"
                              placeholder="Informe Complemento"  class="form-control" maxlength="50">
                        </div>
                        <div class="col-lg-6">
                           <label class="col-form-label">Bairro</label>
                           <input id="form_contato_bairro" name="taskbudget" type="text"
                              placeholder="Informe o Bairro" class="form-control" maxlength="150" required>
                        </div>
                     </div>
                     <div class="row">
                        <div class="col-lg-6">
                           <label class="col-form-label">Município</label>
                           <input id="form_contato_municipio"  name="taskbudget" type="text"
                              placeholder="Informe o Município" class="form-control" maxlength="80">
                        </div>
                        <div class="col-lg-6">
                           <label class="col-form-label">UF</label>
                           <input id="form_contato_uf" name="taskbudget" type="text" placeholder="Informe a UF" class="form-control" maxlength="2">
                        </div>
                     </div>
                     <div class="rowCenterItems">
                        <button type="button" class="btn btn-primary" id="btnAddContato" onclick="addContato()">Adicionar contato</button>
                     </div>
                  </form>
               </div>
            </div>
            <!-- /.modal-content -->
         </div>
         <!-- /.modal-dialog -->
      </div>
      <!-- /.modal -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
      <script src="libs/sweetalert/sweetalert.min.js"></script>
      <script type="module" src="js/index.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
         integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
         crossorigin="anonymous"></script>
      <!-- Required datatable js -->
      <script src="libs/datatables.net/js/jquery.dataTables.min.js"></script>
      <script src="libs/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>
      <!-- Buttons examples -->
      <script src="libs/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
      <script src="libs/datatables.net-buttons-bs4/js/buttons.bootstrap4.min.js"></script>
      <script src="libs/jszip/jszip.min.js"></script>
      <script src="libs/pdfmake/build/pdfmake.min.js"></script>
      <script src="libs/pdfmake/build/vfs_fonts.js"></script>
      <script src="libs/datatables.net-buttons/js/buttons.html5.min.js"></script>
      <script src="libs/datatables.net-buttons/js/buttons.print.min.js"></script>
      <script src="libs/datatables.net-buttons/js/buttons.colVis.min.js"></script>
      <!-- Responsive examples -->
      <script src="libs/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
      <script src="libs/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js"></script>
      <!-- Datatable init js -->
      <script src="js/datatables.init.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"
         crossorigin="anonymous"></script>
      <script>
         function abrirSAR(candidatoID) {
             window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'#Page:SAR_Candidato?candidatoID=' + candidatoID, '_blank');
         }
         
         function alterarQualificacao(candidato, qualificacao) {
             if(qualificacao.length > 0){
                 window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'Qualifica_o_do_Candadito/record-edit/Qualifica_o_do_Candadito_Report/'+qualificacao, '_blank');
             }else{
                 window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'#Form:Qualifica_o_do_Candadito?candidato='+candidato, '_blank');
             }
         }
         
         function alterarProprietario(candidato, proprietario) {
             console.log("Url atual: " + $('#dadosurlzoho').val());
         
             if(proprietario.length > 0){
                 window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'Propriet_rio/record-edit/Propriet_rio_Report/'+proprietario, '_blank');
             }else{
                 window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'#Form:Propriet_rio?Candidato1='+candidato, '_blank');
             }
         }
         
         function alterarDocseLic(candidatoID, docsLicenciamentoID){
             if(docsLicenciamentoID.length > 0){
                 window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'Docs_e_Licenciamento/record-edit/Docs_e_Licenciamento_Report/'+docsLicenciamentoID, '_blank');
             } else{
                 window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'#Form:Docs_e_Licenciamento?Candidato='+candidatoID, '_blank');
             }
         };
         
         function alterarCroquiLoc(valor){
         
             window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'Croqui_Localizacao/record-edit/Croqui_Localiza_o_Report/'+valor, '_blank');
         };
         
         function alterarCroquiSit(valor){
         
             window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'Croqui_de_Situacao/record-edit/Croqui_Situa_o_Report/'+valor,'_blank');
         };
         
         function alterarMapaLoc(valor){
         
             window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'Mapa_Localiza_o/record-edit/Mapa_Localiza_o_Report/'+valor, '_blank');
         };
         
         function alterarObst(valor){
         
             window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'Obstru_es2/record-edit/Obstru_es1_Report/'+valor, '_blank');
         };
         
         function alterarFotosInfra(valor){
         
             window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'Fotos_Infra/record-edit/Fotos_Infra_Report/'+valor, '_blank');
         };
         
         function alterarFotosPano(valor){
         
             window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'Fotos_Panor_micas_TX/record-edit/Fotos_Panor_micas_TX_Report/'+valor, '_blank');
         };
         
         function alterarFotosTx(valor){
         
             window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'Fotos_0_a_330_TX/record-edit/Fotos_0_a_330_TX_Report/'+valor, '_blank');
         };
         
         function alterarInfra(candidatoId, infraId){
             if(infraId.length > 0){
                 window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'Infraestrutura/record-edit/Infraestrutura_Report/'+infraId, '_blank');
             } else{
                 window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'#Form:Infraestrutura?Candidato='+candidatoId, '_blank');
             }
         };
         
         function alterarTransRf(valor){
         
             window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'INFORMA_ES_DE_TRANSMISS_O_E_RF/record-edit/INFORMA_ES_DE_TRANSMISS_O_E_RF_Report/'+valor, '_blank');
         };
         
         function alterarProtCuos(candidatoId, protocoloCuosID){
             if(protocoloCuosID.length > 0){
                 window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'Protocolo_ou_CUOS/record-edit/Protocolo_ou_CUOS_Report/'+protocoloCuosID, '_blank');
             }else{
                 window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'#Form:Protocolo_ou_CUOS?Candidato='+candidatoId, '_blank');
             }
         };
         
         function addRelatorioCritico(siteId, candidatoId) {
         
             console.log("IS clicked")
             Swal.fire({
                     title: 'Deseja incluir um relatório crítico?',
                     // text: "content",
                     icon: 'question',
                     showCancelButton: true,
                     confirmButtonColor: '#3085d6',
                     cancelButtonColor: '#d33',
                     confirmButtonText: 'Sim',
                     cancelButtonText: 'Não',
                     reverseButtons: true
                 }).then((result) => {
                     if (result.isConfirmed) {            
                         window.open('https://creatorapp.zoho.com'+$('#dadosurlzoho').val()+'#Form:Relatorio_critico?Candidato='+candidatoId + '&Site=' + siteId, '_blank');
                     }
             })
         };
         
         function escolhalatlong(des, local){
             if(local == 1){
                 if(des == 'UTM'){
                     $('.utmsessaocriar').css("display", "block");
                     $('.latlongsessaocriar').css("display", "none");
                 }else if(des == 'Decimal'){
                     $('.utmsessaocriar').css("display", "none");
                     $('.latlongsessaocriar').css("display", "block");
                 }else{
                     $('.utmsessaocriar').css("display", "none");
                     $('.latlongsessaocriar').css("display", "none");
                 }
             }else if(local == 3){
                 if(des == 'UTM'){
                     $('.utmsessaoeditar').css("display", "block");
                     $('.latlongsessaoeditar').css("display", "none");
                 }else if(des == 'Decimal'){
                     $('.utmsessaoeditar').css("display", "none");
                     $('.latlongsessaoeditar').css("display", "flex");
                 }else{
                     $('.utmsessaoeditar').css("display", "none");
                     $('.latlongsessaoeditar').css("display", "none");
                 }
             }else if(local == 2){
                 if(des == 'UTM'){
                     $('.utmsessaovisualizar').css("display", "block");
                     $('.latlongsessaovisualizar').css("display", "none");
                 }else if(des == 'Decimal'){
                     $('.utmsessaovisualizar').css("display", "none");
                     $('.latlongsessaovisualizar').css("display", "flex");
                 }else{
                     $('.utmsessaovisualizar').css("display", "none");
                     $('.latlongsessaovisualizar').css("display", "none");
                 }
             }
         };
         
         function escolhalatlongCand(des){
                 if(des == 'UTM'){
                     $('.utmcand').css("display", "block");
                     $('.latitudecand').css("display", "none");
                 }else if(des == 'Decimal'){
                     $('.latitudecand').css("display", "flex");
                     $('.utmcand').css("display", "none");
                 }else{
                     $('.latitudecand').css("display", "none");
                     $('.utmcand').css("display", "none");
                 }
         };
         
         function habilitarAlturaSite(id, local){
             valor = $('#'+id+' option:selected').html();
             console.log("Valor::"+valor+"::");
             if(local == '1'){
                 if(valor == "RT"){
                     $('.alturaprevistaadd').css("display", "block");
                 }else{
                     $('.alturaprevistaadd').css("display", "none");
                 }
             }else if(local == '2'){
                 if(valor == "RT"){
                     $('.alturaprevistaedt').css("display", "block");
                 }else{
                     $('.alturaprevistaedt').css("display", "none");
                 }
             }else if(local == '3'){
                 if(valor == "RT"){
                     $('.alturaprevistaview').css("display", "block");
                 }else{
                     $('.alturaprevistaview').css("display", "none");
                 }
             }else{
                 $('.alturaprevistaview').css("display", "none");
                 $('.alturaprevistaedt').css("display", "none");
                 $('.alturaprevistaadd').css("display", "none");
             }
         };
         
         function habilitarAlturaCand(id, local){
             valor = $('#'+id+' option:selected').html();
             console.log("Valor::"+valor+"::");
             if(local == '1'){
                 if(valor == "RT"){
                     $('.alturaedificioadd').css("display", "block");
                 }else{
                     $('.alturaedificioadd').css("display", "none");
                 }
             }else{
                 $('.alturaedificioadd').css("display", "none");
             }
         };
         
         function corredorAcessoCand(valor, local){
             if(local == '1'){
                 if(valor == 'Sim'){
                     $('.corredoracesso').css("display", "block");
                 }else{
                     $('.corredoracesso').css("display", "none");
                 }
             }else{
                 $('.corredoracesso').css("display", "none");
             }
         };
         
         
         
         function calculoarea(){
             var v_largura_area_normal = $('#form_candidato_largura_area_normal').val();
             var v_profundidade_normal = $('#form_candidato_profundidade_normal').val();
             var v_corredor = $('#form_candidato_corredor').val();
             var v_profundidade = $('#form_candidato_profundidade').val();
             var v_area_locada = $('#form_candidato_largura_area').val();
         
             if(v_largura_area_normal != null ){
                 v_largura_area_normal = v_largura_area_normal.replace(/[^0-9]/g,'');
                 if(isNaN(v_largura_area_normal)){
                     v_largura_area_normal = 0;
                 }
             }else{
                 v_largura_area_normal = 0;
             }
             if(v_profundidade_normal != null ){
                 v_profundidade_normal = v_profundidade_normal.replace(/[^0-9]/g,'');
                 if(isNaN(v_profundidade_normal)){
                     v_profundidade_normal = 0;
                 }
             }else{
                 v_profundidade_normal = 0;
             }
             if(v_corredor == "Sim"){
                 if(v_profundidade != null ){
                     v_profundidade = v_profundidade.replace(/[^0-9]/g,'');
                     if(isNaN(v_profundidade)){
                         v_profundidade = 0;
                     }
                 }else{
                     v_profundidade = 0;
                 }
                 if(v_area_locada != null ){
                     v_area_locada = v_area_locada.replace(/[^0-9]/g,'');
                     if(isNaN(v_area_locada)){
                         v_area_locada = 0;
                     }
                 }else{
                     v_area_locada = 0;
                 }
             }else{
                 v_profundidade = 0;
                 v_area_locada = 0;
             }
             v_area_total = ((v_profundidade * v_area_locada) + (v_profundidade_normal * v_largura_area_normal));
             $('#form_candidato_area_locada').val(v_area_total);
         }       
      </script>
      
      <script>
         function habilitarJustifitiva(obj, condicao, campoJustifitiva) {
            var campo = $('#' + campoJustifitiva)
            campo.val("")
            if(obj.value == condicao) {
               Swal.fire({
                 title: 'Deseja continuar com este Candidato?',
                 text: "Se SIM, informar a justificativa no campo a seguir.",
                 icon: 'question',
                 showCancelButton: true,
                 confirmButtonColor: '#3085d6',
                 cancelButtonColor: '#d33',
                 confirmButtonText: 'Sim',
                 cancelButtonText: 'Não',
                 reverseButtons: true
             }).then((result) => {
                 if (result.dismiss === Swal.DismissReason.cancel) {
                     closeModalCandidato()
                     return
                 }
             })
               campo.prop('disabled', false)
               return
            }
            campo.prop('disabled', true)
         }

         $('input[type=radio][name=anelBusca]').change(function() {
            habilitarJustifitiva(this, "Não","form_candidato_candidatolocalizado" )
         });
         $('input[type=radio][name=usoProposto]').change(function() {
            habilitarJustifitiva(this, "Não","form_candidato_proprietariointeressado" )
         });
         $('input[type=radio][name=legislacaoLocal]').change(function() {
            habilitarJustifitiva(this, "Não","form_candidato_arealocadaatende" )
         });
         $('input[type=radio][name=documentacao]').change(function() {
            habilitarJustifitiva(this, "Sim","form_candidato_justifique_documentacaonecessaria" )
         });
         $('input[type=radio][name=acesso]').change(function() {
            habilitarJustifitiva(this, "Não","form_candidato_justifique_acessodisponivel" )
         });
         $('input[type=radio][name=energia]').change(function() {
            habilitarJustifitiva(this, "Não","form_candidato_justifique_energiadisponivel" )
         });
         $('input[type=radio][name=obstrucao]').change(function() {
            habilitarJustifitiva(this, "Sim","form_candidato_justifique_obstrucao" )
         });

         function clearDataTable(table) {
            $('#' + table).DataTable().clear().draw().destroy();
         }

             $('#btnNovoProprietario').click(function() {
               const siglaCandidato = $('#form_candidato_sigla').val()
               const siteID = $('#form_candidato_site').val()
               if(siglaCandidato == "") {
                  mostrarErro('form_candidato_sigla', 'Necessário informar a Sigla do Candidato!')
                  return
               }
               else if(siteID == "") {
                  mostrarErro('form_candidato_site', 'Necessário selecionar o site antes.')
                  return
               }
               $('#modalAdicionarProprietario').modal('show')
               $('#modalAdicionarCandidato').css('z-index', 1051)
            })

      </script>
      <script>
         function abrirModalNewContact() {
            const todosProprietarios = document.getElementById("form_candidato_proprietario");
               const proprietarioSelecionado = todosProprietarios.options[todosProprietarios.selectedIndex].value;

               if(proprietarioSelecionado == '') {
                  Swal.fire({
                        icon: 'warning',
                        title: 'Oops...',
                        text: 'Necessário selecionar o proprietário antes.'
                     })
                  return
               }
               $('#modalAdicionarContato').modal('show')
               $('#modalAdicionarCandidato').css('z-index', 1051)
         }

         function adicionarProprietario() {
            console.log("Tentando adicionar o proprietário")
            ZOHO.CREATOR.init().then(function (data) {
               const siglaCandidato = document.getElementById("form_candidato_sigla").value;
               const siteID = $('#form_candidato_site').find(':selected').val();
               const nome = document.getElementById("form_proprietario_nome").value
               const cpfCNPJ = document.getElementById("form_proprietario_cpf_cnpj").value
               const razaoSocial = document.getElementById("form_proprietario_razao_social").value
               const email = document.getElementById("form_proprietario_email").value
               const telefone = document.getElementById("form_proprietario_telefone").value
               const cep = document.getElementById("form_proprietario_cep").value
               const endereco = document.getElementById("form_proprietario_endereco").value
               const numero = document.getElementById("form_proprietario_numero").value
               const complemento = document.getElementById("form_proprietario_complemento").value
               const bairro = document.getElementById("form_proprietario_bairro").value
               const mucinicipio = document.getElementById("form_proprietario_municipio").value
               const uf = document.getElementById("form_proprietario_uf").value
            
               const emailValid = validateEmail(email)

               if(nome == "") {
                     mostrarErro("form_proprietario_nome", "O Nome não pode ficar em branco.")
                     return
               } 
               else if(cpfCNPJ.length != 18 && cpfCNPJ.length != 14) {
                     mostrarErro("form_proprietario_cpf_cnpj", "CPF/CNPJ inválido.")
                     return
               }
               else if(cpfCNPJ.length == 18 && razaoSocial == '') {
                     mostrarErro("form_proprietario_razao_social", "Razao social inválida.")
                     return
               }
               else if(!emailValid) {
                     mostrarErro("form_proprietario_email", "E-mail inválido.")
                     return
               } 
               else if(telefone.length < 10) {
                     mostrarErro("form_responsavel_telefone", "Telefone inválido.")
                     return
               }
               else if(cep.length == 0) {
                     mostrarErro("form_proprietario_cep", "CEP inválido.")
                     return
               }

               var configProprietario = {
                     appName: "mobilize",
                     formName: "Propriet_rio",
                     data: {
                        "data": {
                           "Nome": nome, 
                           "CPF_CNPJ": cpfCNPJ,
                           "Razao_Social": razaoSocial,
                           "CEP": cep,
                           "Endereco": endereco,
                           "Numero": numero,
                           "Bairro": bairro,
                           "Complemento": complemento,
                           "UF": uf,
                           "Municipio": mucinicipio,
                           "Email": email, 
                           "Phone_Number": telefone,
                           "Sigla_do_Candidato": siglaCandidato,
                           "Site": siteID
                        }
                     }
               }
               $('#btnAddProprietario').prop('disabled', true)
               ZOHO.CREATOR.API.addRecord(configProprietario).then((response) => {
                     if(response.code != 3000) {
                        $.each(responseCandidato.error, function(key,val) {             
                           v_erro = v_erro + val + ". ";
                        });
                        swal({
                           title: "Erro ao cadastrar proprietario. Tente mais tarde! ("+v_erro+")",
                           type: "error",
                           showConfirmButton: true
                        });
                        $('#btnAddProprietario').prop('disabled', false)
                        return
                     }
                     $('#form_candidato_proprietario')
                        .append('<option value="'+response.data.ID+ '">'+nome+'</option>')
                        .val(response.data.ID);

                     swal({
                        title: "Proprietario adicionado com sucesso!",
                        type: "success",
                        showConfirmButton: true
                     });
                     $("#modalAdicionarProprietario").modal('hide')
                     $("#modalAdicionarCandidato").css('z-index', '');
                     $('#btnAddProprietario').prop('disabled', false)

                     resetForm('form_proprietario')
                     getContacts()
               })
            });
         }

         function addContato() {
            ZOHO.CREATOR.init()
            .then(function (data) {
               const proprietarios = document.getElementById('form_candidato_proprietario')
               const proprietarioSelecionado = proprietarios.options[proprietarios.selectedIndex].value;

               const nome = document.getElementById("form_contato_nome").value
               const email = document.getElementById("form_contato_email").value
               const telefone = document.getElementById("form_contato_telefone").value.replace(/\D/g, '')

               const cep = document.getElementById("form_contato_cep").value
               const endereco = document.getElementById("form_contato_endereco").value
               const numero = document.getElementById("form_contato_numero").value
               const complemento = document.getElementById("form_contato_complemento").value
               const bairro = document.getElementById("form_contato_bairro").value
               const municipio = document.getElementById("form_contato_municipio").value
               const uf = document.getElementById("form_contato_uf").value


               const qualificacoes = document.getElementById("form_contato_qualificacao")
               const qualificacaoSelecionada = qualificacoes.options[qualificacoes.selectedIndex].text

               var emailValid = validateEmail(email)

               if(nome == "") {
                     mostrarErro("form_contato_nome", "O Nome não pode ficar em branco.")
                     return
               }
               else if(qualificacaoSelecionada == "Selecione...") {
                     mostrarErro("form_contato_qualificacao", "Qualificação do contato inválida.")
                     return
               }
               else if(!emailValid) {
                     mostrarErro("form_contato_email", "E-mail inválido.")
                     return
               } else if(telefone.length < 10) {
                     mostrarErro("form_contato_telefone", "Telefone inválido.")
                     return
               } else if(cep.length == 0) {
                     mostrarErro("form_contato_cep", "CEP inválido.")
                     return
               }
            
               var configContato = {
                     appName: "mobilize",
                     formName: "Contato_Cliente",
                     data: {
                        "data": {
                           "Proprietario": proprietarioSelecionado,
                           "Nome": nome, 
                           "Telefone": telefone,
                           "E_mail": email,
                           "Address": {
                                 "address_line_1": endereco + " " + numero,
                                 "address_line_2": complemento,
                                 "district_city" : bairro,
                                 "state_province" : municipio,
                                 "postal_code" : uf,
                                 "country" : cep
                           },
                           "Qualificacao": qualificacaoSelecionada
                        }
                     }
               }
            
               $('#btnAddContato').prop('disabled', true)
               ZOHO.CREATOR.API.addRecord(configContato).then((response) => {
                     if(response.code == 3001) {
                        $.each(response.error, function(key,val) {             
                           v_erro = v_erro + val + ". ";
                        });
                        swal({
                           title: "Erro ao cadastrar o contato. Tente mais tarde! ("+v_erro+")",
                           type: "error",
                           showConfirmButton: true
                        });
                         $('#btnAddContato').prop('disabled', false)
                        return
                     }
                     $('#form_candidato_contato')
                        .append('<option value="'+response.data.ID+ '">'+nome+'</option>')
                        .val(response.data.ID);

                     swal({
                        title: "Contato adicionado com sucesso!",
                        type: "success",
                        showConfirmButton: true
                     });
                     $("#modalAdicionarContato").modal('hide')
                     $("#modalAdicionarCandidato").css('z-index', '');
                     $('#btnAddContato').prop('disabled', false)
                     resetForm('form_contato')
               })
            })
         }

         function closeModalCandidato() {
            desabilitarCampoCandidato(false, true)

            $('#candidatoID').val('')
            $('#modalCandidatosPorSite').css('z-index', '')
            $('#modalAdicionarCandidato').modal('hide')
            resetForm("form_candidato")
            $('#modal_title_candidato').text("Novo Candidato")

            //
            $('#btnNovoProprietario').css('display', 'block')
            $('#btnAddContact').css('display', 'block').prop('disabled', false)
            $('#addCandidato').text('Cadastrar')
         }

         function closeModalSite() {
            disabledEnabledFieldsSite(false, true)

            $('#modalAdicionarSite').modal('hide')
            $('#siteID').val('')
            $('#titleFormSite').text("Adicionar Novo Site")
            $('#addNewSite').text('Criar Site')
            resetForm("form_add_site")
         }

         function createEditCandidato() {
            var candidatoSigla = $('#form_candidato_sigla').val()
            var candidatoSite = $('#form_candidato_site').val()
            var candidatoTipoSite = $('#form_candidato_tipo_site').val()
            var candidatoAluguel = $('#form_candidato_aluguel').val().replace('R$', '').replaceAll('.', '').replace(',', '.').trim();
            var candidatoTipoDeNegociacao = $('input[name=form_tipo_propriedade]').val()
            var candidatoProprietario = $('#form_candidato_proprietario').val()
            var candidatoContato = $('#form_candidato_contato').val()
            var candidatoCep = $('#form_candidato_cep').val()
            var candidatoEndereco = $('#form_candidato_endereco').val()
            var candidatoNumero = $('#form_candidato_numero').val()
            var candidatoComplemento = $('#form_candidato_complemento').val()
            var candidatoBairro = $('#form_candidato_bairro').val()
            var candidatoMunicipio = $('#form_candidato_municipio').val()
            var candidatoUF = $('#form_candidato_uf').val()
            var candidatoDistanciaPN = $('#form_candidato_distancia_pn').val()
            var candidatoPreComar = $('#form_candidato_pre_comar').val()
            var candidatoLarguraAreaLocada = $('#form_candidato_largura_area_normal').val()
            var candidatoProfundidadeAreaLocada = $('#form_candidato_profundidade_normal').val()
            var candidatoCorredorAcesso = $('#form_candidato_corredor').val()
            var candidatoLarguraCorredorAcesso = $('#form_candidato_largura_area').val()
            var candidatoProfundidadeCorredorAcesso = $('#form_candidato_profundidade').val()
            var candidatoAreaLocadaTotal = $('#form_candidato_area_locada').val()
            var candidatoAlturaEdificio = $('#form_candidato_altura_edificio').val()
            var candidatoTipoDeOpcao = $('#form_tipo_opcao').val()
            var candidatoLatitude = $('#form_candidato_latitude').val()
            var candidatoLongitude = $('#form_candidato_longitude').val()
            var candidatoGrauLat = $('#candidatoGrauLat').val()
            var candidatoGrauLong = $('#candidatoGrauLong').val()
            var candidatoMinutoLat = $('#candidatoMinutoLat').val()
            var candidatoMinutLong = $('#candidatoMinutLong').val()
            var candidatoSegundoLat = $('#candidatoSegundoLat').val()
            var candidatoSegundoLong = $('#candidatoSegundoLong').val()
            var candidatoPontoCardealLat = $('#form_candidato_pontoCardealLat').val()
            var candidatoPontoCardealLong = $('#form_candidato_pontoCardealLong').val()
            var candidatoAltitude = $('#form_candidato_altitude').val()
            var candidatoAnelBusca = $('input[name=anelBusca]:checked').val()
            var candidatoAnelBuscaJustificativa = $('#form_candidato_candidatolocalizado').val()
            var candidatoUsoProposto = $('input[name=usoProposto]:checked').val()
            var candidatoUsoPropostoJustificativa = $('#form_candidato_proprietariointeressado').val()
            var candidatoLegislacaoLocal = $('input[name=legislacaoLocal]:checked').val()
            var candidatoLegislacaoLocaljustificativa = $('#form_candidato_arealocadaatende').val()
            var candidatoDocumentacao = $('input[name=documentacao]:checked').val()
            var candidatoDocumentacaoJustificativa = $('#form_candidato_justifique_documentacaonecessaria').val()
            var candidatoAcesso = $('input[name=acesso]:checked').val()
            var candidatoAcessoJustificativa = $('#form_candidato_justifique_acessodisponivel').val()
            var candidatoEnergia = $('input[name=energia]:checked').val()
            var candidatoEnergiaJustificativa = $('#form_candidato_justifique_energiadisponivel').val()
            var candidatoObstrucao = $('input[name=obstrucao]:checked').val()
            var candidatoObstrucaoJustificativa = $('#form_candidato_justifique_obstrucao').val()
            var candidatoObservacao = $('#form_candidato_observacao').val()

            
            if (candidatoSigla == "") {
               mostrarErro("form_candidato_sigla", "Sigla do candidato não informada");
               return
            }
            if (candidatoSite == "Selecione..") {
               mostrarErro("form_candidato_site", "Site não selecionado");
               return
            }
            if (candidatoTipoSite == "Selecione..") {
               mostrarErro("form_candidato_tipo_site", "Tipo de site não selecionado");
               return
            }
            if (candidatoAluguel == "") {
               mostrarErro("form_candidato_aluguel", "Valor do Aluguel não informado");
               return
            }
            if (candidatoTipoDeNegociacao == "") {
               mostrarErro("tipo_propriedade", "Tipo de propriedade não informada");
               return
            }
            if (candidatoProprietario == "Selecione..") {
               mostrarErro("form_candidato_proprietario", "Proprietário não selecionado");
               return
            }
            if (candidatoCep == "") {
               mostrarErro("form_candidato_cep", "CEP não informado");
               return
            }
            if (candidatoDistanciaPN == "") {
               mostrarErro("form_candidato_distancia_pn", "Distância PN não informado");
               return
            }
            if (candidatoPreComar == "") {
               mostrarErro("form_candidato_pre_comar", "Pré-Comar não informado");
               return
            }
            if (candidatoLarguraAreaLocada == "") {
               mostrarErro("form_candidato_largura_area_normal", "Área locada não informado");
               return
            }
            if (candidatoProfundidadeAreaLocada == "") {
               mostrarErro("form_candidato_profundidade_normal", "Profundidade da Área locada não informado");
               return
            }
            if (candidatoCorredorAcesso == "Selecione..") {
               mostrarErro("form_candidato_corredor", "Corredor de acesso não selecionado");
               return
            }
            if (candidatoTipoDeOpcao == "Selecione..") {
               mostrarErro("form_tipo_opcao", "Tipo de ponto cardinal não selecionado");
               return
            }
            if (candidatoTipoDeOpcao == "Decimal") {
               if (candidatoLatitude == "") {
                     mostrarErro("form_candidato_latitude", "Latitude não informada")
                     return
               } else if (candidatoLongitude == "") {
                     mostrarErro("form_candidato_longitude", "Longitude não informada")
                     return
               }
            }
            if (candidatoTipoDeOpcao == "UTM") {
               if (candidatoGrauLat == "") {
                     mostrarErro("form_candidato_grauLat", "Grau LAT não informada")
                     return
               } else if (candidatoMinutoLat == "") {
                     mostrarErro("form_candidato_minutoLat", "Minuto LAT não informada")
                     return
               } else if (candidatoSegundoLat == "") {
                     mostrarErro("form_candidato_segundoLat", "Segundos LAT não informada")
                     return
               } else if (candidatoPontoCardealLat == "Selecione..") {
                     mostrarErro("form_candidato_pontoCardealLat", "Ponto Cardeal LAT não selecionada")
                     return
               } else if (candidatoGrauLong == "") {
                     mostrarErro("form_candidato_grauLong", "Grau LONG não informada")
                     return
               } else if (candidatoMinutLong == "") {
                     mostrarErro("form_candidato_minutLong", "Minuto LONG não informada")
                     return
               } else if (candidatoSegundoLong == "") {
                     mostrarErro("form_candidato_segundoLong", "Segundos LONG não informada")
                     return
               } else if (candidatoPontoCardealLong == "Selecione..") {
                     mostrarErro("form_candidato_pontoCardealLong", "Ponto Cardeal LONG não selecionada")
                     return
               }
            }
            if (candidatoAltitude == "") {
               mostrarErro("form_candidato_altitude", "Altitude não informada");
               return
            }
            if (candidatoAnelBusca == null) {
               mostrarErro("", "Questão Anel de Busca não respondida");
               return
            }
            if (candidatoAnelBuscaJustificativa == "" && candidatoAnelBusca == "Não") {
               mostrarErro("form_candidato_candidatolocalizado", "Justificativa Anel de Busca não informada");
               return
            }
            if (candidatoUsoProposto == null) {
               mostrarErro("", "Questão Uso Proposto não respondida");
               return
            }
            if (candidatoUsoPropostoJustificativa == "" && candidatoUsoProposto == "Não") {
               mostrarErro("form_candidato_proprietariointeressado", "Justificativa Uso Proposto não informada");
               return
            }
            if (candidatoLegislacaoLocal == "") {
               mostrarErro("", "Questão Legislação Local não respondida");
               return
            }
            if (candidatoLegislacaoLocaljustificativa == "" && candidatoLegislacaoLocal == "Não") {
               mostrarErro("form_candidato_arealocadaatende", "Justificativa Legislação Local não respondida");
               return
            }
            if (candidatoDocumentacao == null) {
               mostrarErro("", "Questão Documentação não respondida");
               return
            }
            if (candidatoDocumentacaoJustificativa == "" && candidatoDocumentacao == "Sim") {
               mostrarErro("form_candidato_justifique_documentacaonecessaria", "Justificativa Documentação Local não respondida");
               return
            }
            if (candidatoAcesso == null) {
               mostrarErro("", "Questão Acesso não respondida");
               return
            }
            if (candidatoAcessoJustificativa == "" && candidatoAcesso == "Não") {
               mostrarErro("form_candidato_justifique_acessodisponivel", "Justificativa Acesso não respondida");
               return
            }
            if (candidatoEnergia == null) {
               mostrarErro("", "Questão Energia não respondida");
               return
            }
            if (candidatoEnergiaJustificativa == "" && candidatoEnergia == "Não") {
               mostrarErro("form_candidato_justifique_energiadisponivel", "Justificativa Energia não respondida");
               return
            }
            if (candidatoObstrucao == null) {
               mostrarErro("", "Questão Obstrução não respondida");
               return
            }
            if (candidatoObstrucaoJustificativa == "" && candidatoObstrucao == "Sim") {
               mostrarErro("form_candidato_justifique_obstrucao", "Justificativa Obstrução não respondida");
               return
            }
            if (candidatoObstrucao == "") {
               mostrarErro("form_candidato_observacao", "Observação não respondida");
               return
            }

            // 'Tipo_Site': candidatoTipoSite,
            var formData = {
               'data': {
                     'Sigla_do_Candidato': candidatoSigla,
                     'Site': candidatoSite,
                     'Valor_do_Aluguel': candidatoAluguel,
                     'Tipo_de_Negocia_o': candidatoTipoDeNegociacao,
                     'Proprietario': candidatoProprietario,
                     'Contato': candidatoContato,
                     'CEP': candidatoCep,
                     'Endereco': candidatoEndereco,
                     'Endere_o': candidatoNumero,
                     'Complemento': candidatoComplemento,
                     'Bairro': candidatoBairro,
                     'Municipio': candidatoMunicipio,
                     'UF': candidatoUF,
                     'Distancia_PN': candidatoDistanciaPN,
                     'Pre_Comar_m': candidatoPreComar,
                     'Largura_area': candidatoLarguraAreaLocada,
                     'Profundidade_area': candidatoProfundidadeAreaLocada,
                     'Corredor_de_Acesso': candidatoCorredorAcesso,
                     'Largura_Corredor_de_Acesso': candidatoLarguraCorredorAcesso,
                     'Profundidade_Corredor_de_Acesso': candidatoProfundidadeCorredorAcesso,
                     'Area_Locada_m': candidatoAreaLocadaTotal,
                     'Altura_do_Edifica_o': candidatoAlturaEdificio,
                     'Opcao': candidatoTipoDeOpcao,
                     'Latitude': candidatoLatitude,
                     'Longitude': candidatoLongitude,
                     'GrauLAT': candidatoGrauLat,
                     'GrauLONG': candidatoGrauLong,
                     'MinutoLAT': candidatoMinutoLat,
                     'MinutoLONG': candidatoMinutLong,
                     'SegundoLAT': candidatoSegundoLat,
                     'SegundoLONG': candidatoSegundoLong,
                     'Ponto_Cardeal_LAT': candidatoPontoCardealLat,
                     'PontoCardealLONG': candidatoPontoCardealLong,
                     'Altitude': candidatoAltitude,
                     'anelBusca': candidatoAnelBusca,
                     'Justificativa_O_candidato_est_localizado_dentro_do_anel_de_busca': candidatoAnelBuscaJustificativa,
                     'usoProposto': candidatoUsoProposto,
                     'Justificativa_O_propriet_rio_est_interessado_no_uso_proposto': candidatoUsoPropostoJustificativa,
                     'legislacaoLocal': candidatoLegislacaoLocal,
                     'Justificativa_A_rea_locada_atende_os_requisitos_m_nimos_exigidos_pela_legisla_o_local': candidatoLegislacaoLocaljustificativa,
                     'documentacao': candidatoDocumentacao,
                     'Justificativa_A_documenta_o_necess_ria_est_dispon_vel': candidatoDocumentacaoJustificativa,
                     'acesso': candidatoAcesso,
                     'Justificativa_O_acesso_ao_site_est_dispon_vel_24horas_dia_7dias_semana': candidatoAcessoJustificativa,
                     'energia': candidatoEnergia,
                     'Justificativa_Existe_energia_dispon_vel_no_site': candidatoEnergiaJustificativa,
                     'obstrucao': candidatoObstrucao,
                     'Justificativa_Existe_alguma_obstru_o_ou_interfer_ncia_vis_vel': candidatoObstrucaoJustificativa,
                     'Coment_rios': candidatoObservacao
               }
            }
            $('#addCandidato').prop('disabled', true)
            var id_candidato = $('#candidatoID').val()
            if (id_candidato != '') {
               var configEdit = {
                     appName: "mobilize",
                     reportName: "widget_candidatos_full",
                     id: id_candidato,
                     data: formData
               }
               ZOHO.CREATOR.API.updateRecord(configEdit).then(function(response) {
                     if (response.code != 3000) {
                        v_erro = ""
                        $.each(response.error, function(key, val) {
                           v_erro = v_erro + val + ". ";
                        });
                        Swal.fire({
                           icon: 'error',
                           title: 'Oops...',
                           text: 'Não foi possível atualizar o registro. Tente novamente mais. - Error: ' + v_erro
                        })
                        $('#addCandidato').prop('disabled', false)
                        return
                     }
                     addAnexoCandidato(candidatoSite, id_candidato, 'form_candidato_anexo')
                     Swal.fire({
                        icon: 'success',
                        title: 'Candidato atualizado com sucesso.'
                     })
                     $('#addCandidato').prop('disabled', false)
                     setTimeout(() => document.location.reload(true), 1000)
               });
            } else {
               var configAdd = {
                     appName: "mobilize",
                     formName: "Candidato",
                     data: formData
               }
               ZOHO.CREATOR.API.addRecord(configAdd).then(function(response) {
                     if (response.code != 3000) {
                        v_erro = ""
                        $.each(response.error, function(key, val) {
                           v_erro = v_erro + val + ". ";
                        });
                        Swal.fire({
                           icon: 'error',
                           title: 'Oops...',
                           text: 'Não foi possível atualizar o registro. Tente novamente mais. - Error: ' + v_erro
                        })
                        $('#addCandidato').prop('disabled', false)
                        return
                     }
                     const candidatoID = response.data.ID;
                     addAnexoCandidato(candidatoSite, candidatoID, 'form_candidato_anexo')
                     Swal.fire({
                        icon: 'success',
                        title: 'Candidato cadastrado com sucesso.'
                     })
                     $('#addCandidato').prop('disabled', false)
                     setTimeout(() => document.location.reload(true), 1000)
               });
            }
         }

         function addAnexoCandidato(siteID, candiadtoID, field) {
            var fileObject = document.getElementById(field).files[0];
            var userEmail = $('#useremailzoho').val()
            if (fileObject != null) {
               const configAnexo = {
                  appName: "mobilize",
                  formName: "Anexos",
                  data: {
                        "data": {
                           "Site": siteID,
                           "Candidato": candiadtoID,
                           "Tipo_do_Anexo": "Documento",
                           "Descricao": "",
                           'usuario': userEmail
                        }
                  }
               }
                  ZOHO.CREATOR.API.addRecord(configAnexo).then((responseAnexo) => {
                     if (responseAnexo.code != 3000) {
                        console.log("Erro ao criar o registro do anexo - Error: " + responseAnexo.code)
                        return
                     }
                     console.log("Registro do Anexo criado: " + responseAnexo.data.ID)
                     var configPdf = {
                        appName: "mobilize",
                        reportName: "Anexos_Report",
                        id: responseAnexo.data.ID,
                        fieldName: "Anexos",
                        file: fileObject
                     }
                     ZOHO.CREATOR.API.uploadFile(configPdf).then((response) => {
                        if(response.code != 3000) {
                           console.log("Erro ao inserir o anexo no registro - Error: " + responseAnexo.code)
                           return
                        }
                        console.log("Anexo inserido com sucesso")
                        return
                     })
               })
            }
         }

         function mostrarErro(campo, mensagem) {
               if(campo.length > 0) {
                  var field = document.getElementById(campo);

                  field.focus();
                  field.style.background = "red";

                  setTimeout(() => {
                     field.style.background = ''
                  }, 2 * 1000);
                  }

                  swal({
                  title: mensagem,
                  type: "error",
                  showConfirmButton: true,
                  });
         }

         function addEditSite() {
            var form_cliente_siteValue = $('#form_cliente_site').find(':selected').val()
            var form_cliente_operadoraValue = $('#form_cliente_operadora').find(':selected').val()
            var form_cliente_coordenadorClienteValue = $('#form_cliente_coordenadorCliente').find(':selected').val()
            var form_cliente_coordenadorMobilizeValue =  $('#form_cliente_coordenadorMobilize').find(':selected').val()
            var form_cliente_etapaValue = $('#form_cliente_etapa').find(':selected').val()
            var form_cliente_regionalValue =  $('#form_cliente_regional').find(':selected').val()
            var form_cliente_alturaPrevistaValue = $('#form_cliente_alturaPrevista').find(':selected').val()
            var form_cliente_raioBuscaValue = $('#form_cliente_raioBusca').find(':selected').val()
            var form_cliente_opcaoValue = $('#form_cliente_opcao').find(':selected').val()

            var form_cliente_pontoCardealLat = document.getElementById("form_cliente_pontoCardealLat");
            if (form_cliente_pontoCardealLat != null) {
               var form_cliente_pontoCardealLatValue = form_cliente_pontoCardealLat.options[form_cliente_pontoCardealLat.selectedIndex].value;
            }

            var form_cliente_pontoCardealLong = document.getElementById("form_cliente_pontoCardealLong");
            if (form_cliente_pontoCardealLong != null) {
               var form_cliente_pontoCardealLongValue = form_cliente_pontoCardealLong.options[form_cliente_pontoCardealLong.selectedIndex].value;
            }

            var form_cliente_IdsiteMobilize = document.getElementById("form_cliente_IdsiteMobilize").value;

            var form_cliente_Idsharing = document.getElementById("form_cliente_Idsharing").value;

            var form_cliente_idSiteOperadora = document.getElementById("form_cliente_idSiteOperadora").value;

            var form_cliente_projeto = document.getElementById("form_cliente_projeto").value;

            var form_cliente_subProjeto = document.getElementById("form_cliente_subProjeto").value;

            var form_cliente_targetAluguel = document.getElementById("form_cliente_targetAluguel").value;

            var form_cliente_ufValue = $('#form_site_uf').find(':selected').val()
            var form_cliente_municipioValue = $('#form_site_municipio').find(':selected').val()

            var form_cliente_latitude = document.getElementById("form_cliente_latitude").value.replace(',', '.');

            var form_cliente_longitude = document.getElementById("form_cliente_longitude").value.replace(',', '.');

            if (document.querySelector('#lat_long').innerHTML == '') {
               var form_cliente_grauLat = document.getElementById("form_cliente_grauLat").value;

               var form_cliente_grauLong = document.getElementById("form_cliente_grauLong").value;

               var form_cliente_minLat = document.getElementById("form_cliente_minLat").value;

               var form_cliente_minLong = document.getElementById("form_cliente_minLong").value;

               var form_cliente_segLat = document.getElementById("form_cliente_segLat").value;

               var form_cliente_segLong = document.getElementById("form_cliente_segLong").value;
            }

            var form_cliente_dataAcionamento = document.getElementById("form_cliente_dataAcionamento").value;

            const meses = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
            let dataInicioAnterior = new Date(form_cliente_dataAcionamento);
            let dataInicioAFormatada = (adicionaZero(dataInicioAnterior.getDate().toString()) + "-" + meses[(dataInicioAnterior.getMonth())] + "-" + dataInicioAnterior.getFullYear());

            var valorFinal2 = form_cliente_targetAluguel.replace('R$', '').replaceAll('.', '').replace(',', '.').trim()

            var opcaoCliente = $('#form_cliente_site').find(':selected').text()
            if (opcaoCliente == "Selecione..") {
               mostrarErro("form_cliente_site", "Cliente não selecionado")
               return
            }
            if (form_cliente_IdsiteMobilize == "") {
               mostrarErro("form_cliente_IdsiteMobilize", "ID Mobilize não informado")
               return
            }
            var opcaoOperadora = $('#form_cliente_operadora').find(':selected').text()
            if (opcaoOperadora == "Selecione..") {
               mostrarErro("form_cliente_operadora", "Operadora não selecionada")
               return
            }
            if (form_cliente_Idsharing == "") {
               mostrarErro("form_cliente_Idsharing", "ID Site Sharing não informada")
               return
            }
            if (form_cliente_idSiteOperadora == "") {
               mostrarErro("form_cliente_idSiteOperadora", "ID Site Operadora não informada")
               return
            }
            if (form_cliente_projeto == "") {
               mostrarErro("form_cliente_projeto", "Projeto não informado")
               return
            }
            if (form_cliente_projeto == "") {
               mostrarErro("form_cliente_projeto", "Projeto não informado")
               return
            }
            var opcaoUFTexto = $('#form_site_uf').find(':selected').text()
            if (opcaoUFTexto == "Selecione..") {
               mostrarErro("form_site_uf", "UF não selecionada")
               return
            }
            var opcaoMunicipioTexto = $('#form_site_municipio').find(':selected').text()
            if (opcaoMunicipioTexto == "Selecione..") {
               mostrarErro("form_site_municipio", "Municipio não selecionada")
               return
            }
            var opcaoRaioBusca = $('#form_cliente_raioBusca').find(':selected').text()
            if (opcaoRaioBusca == "Selecione..") {
               mostrarErro("form_cliente_raioBusca", "Raio de Busca não selecionada")
               return
            }
            var opcaoPontoNominal = form_cliente_opcao.options[form_cliente_opcao.selectedIndex].text
            if (opcaoPontoNominal == "Selecione..") {
               mostrarErro("form_cliente_opcao", "Tipo de ponto nominal não selecionada")
               return
            }
            if (opcaoPontoNominal == "Decimal" && opcaoPontoNominal != "Selecione..") {
               if (form_cliente_latitude == "") {
                  mostrarErro("form_cliente_latitude", "Latitude não informada")
                  return
               } else if (form_cliente_longitude == "") {
                  mostrarErro("form_cliente_longitude", "Longitude não informada")
                  return
               }
            }
            if (opcaoPontoNominal == "UTM" && opcaoPontoNominal != "Selecione..") {
               var pontoCardealLAT = form_cliente_pontoCardealLat.options[form_cliente_pontoCardealLat.selectedIndex].text
               var pontoCardealLONG = form_cliente_pontoCardealLong.options[form_cliente_pontoCardealLong.selectedIndex].text
               var grauLat = document.getElementById("form_cliente_grauLat").value
               var grauLong = document.getElementById("form_cliente_grauLong").value
               var minLat = document.getElementById("form_cliente_minLat").value
               var minLong = document.getElementById("form_cliente_minLong").value
               var segLat = document.getElementById("form_cliente_segLat").value
               var segLong = document.getElementById("form_cliente_segLong").value

               if (grauLat == "") {
                  mostrarErro("form_cliente_grauLat", "Grau LAT não informada")
                  return
               } else if (minLat == "") {
                  mostrarErro("form_cliente_minLat", "Minuto LAT não informada")
                  return
               } else if (segLat == "") {
                  mostrarErro("form_cliente_segLat", "Segundos LAT não informada")
                  return
               } else if (pontoCardealLAT == "Selecione..") {
                  mostrarErro("form_cliente_pontoCardealLat", "Ponto Cardeal LAT não selecionada")
                  return
               } else if (grauLong == "") {
                  mostrarErro("form_cliente_grauLong", "Grau LONG não informada")
                  return
               } else if (minLong == "") {
                  mostrarErro("form_cliente_minLong", "Minuto LONG não informada")
                  return
               } else if (segLong == "") {
                  mostrarErro("form_cliente_segLong", "Segundos LONG não informada")
                  return
               } else if (pontoCardealLONG == "Selecione..") {
                  mostrarErro("form_cliente_pontoCardealLong", "Ponto Cardeal LONG não selecionada")
                  return
               }
            }

            console.log(dataInicioAFormatada)

            var formData = {
               "data": {
                  'Projeto': form_cliente_projeto,
                  'UF': form_cliente_ufValue,
                  'Municipio2': form_cliente_municipioValue,
                  'Etapa': form_cliente_etapaValue,
                  'ID_Site_Mobilize': form_cliente_IdsiteMobilize,
                  'Data_de_Acionamento': dataInicioAFormatada,
                  'Longitude': form_cliente_longitude,
                  'Latitude': form_cliente_latitude,
                  'Operadora': form_cliente_operadoraValue,
                  'ID_Site_Operadora': form_cliente_idSiteOperadora,
                  'ID_Site_Sharing': form_cliente_Idsharing,
                  'cliente': form_cliente_siteValue,
                  'regional': form_cliente_regionalValue,
                  'Altura_Prevista_M': form_cliente_alturaPrevistaValue,
                  'RAIO_DE_BUSCA_M': form_cliente_raioBuscaValue,
                  'Target_do_Aluguel': valorFinal2,
                  'Opcao': form_cliente_opcaoValue,
                  'GrauLAT': form_cliente_grauLat,
                  'GrauLONG': form_cliente_grauLong,
                  'MinutoLAT': form_cliente_minLat,
                  'MinutoLONG': form_cliente_minLong,
                  'SegundosLAT': form_cliente_segLat,
                  'SegundosLONG': form_cliente_segLong,
                  'PontoCardealLAT': form_cliente_pontoCardealLatValue,
                  'PontoCardealLONG': form_cliente_pontoCardealLongValue,
                  'Coordenador_Mobilize': form_cliente_coordenadorMobilizeValue,
                  'Sub_Projeto': form_cliente_subProjeto,
                  'Contato': form_cliente_coordenadorClienteValue
               }
            }

            var fileObject = document.getElementById("form_cliente_anexo").files[0];
            $('#addNewSite').prop('disabled', true)
            var userEmail = $('#useremailzoho').val()
            var siteID = $('#siteID').val()

            if (siteID != '') {
               Swal.fire({
                  title: 'Deseja atualizar este SITE?',
                  icon: 'question',
                  showCancelButton: true,
                  confirmButtonColor: '#3085d6',
                  cancelButtonColor: '#d33',
                  confirmButtonText: 'Sim',
                  cancelButtonText: 'Não',
                  reverseButtons: true
               }).then((result) => {
                  if (result.isConfirmed) {
                        var configEdit = {
                           appName: "mobilize",
                           reportName: "widget_sites_full",
                           id: siteID,
                           data: formData
                        }
                        ZOHO.CREATOR.API.updateRecord(configEdit).then(function(response) {
                           if (response.code != 3000) {
                              v_erro = "Error - "
                              $.each(response.error, function(key, val) {
                                    v_erro = v_erro + val + ". ";
                              });
                              Swal.fire({
                                    icon: 'error',
                                    title: 'Oops...',
                                    text: 'Não foi possível atualizar o registro. Tente novamente mais. - Error: ' + v_erro
                              })
                              $('#addNewSite').prop('disabled', false)
                              return
                           }
                           addAnexoCandidato(siteID, '', 'form_cliente_anexo')
                           Swal.fire({
                              icon: 'success',
                              title: 'Site atualizado com sucesso.'
                           })
                           $('#addNewSite').prop('disabled', false)
                           setTimeout(() => document.location.reload(true), 1000)
                        });

                        return
                  }
                  $('#addNewSite').prop('disabled', false)
               })


            } else {
               var config = {
                  appName: "mobilize",
                  formName: "Site",
                  data: formData
               }
               ZOHO.CREATOR.API.addRecord(config).then(function(response) {
                  if (response.code != 3000) {
                        var v_erro = "";
                        $.each(response.error, function(key, val) {
                           v_erro = v_erro + val + ". ";
                        });
                        swal({
                           title: "Não foi possível cadastrar o site. Tente novamente! - Error: " + v_erro,
                           type: "error",
                           showConfirmButton: true
                        });
                        $('#addNewSite').prop('disabled', false)
                        return
                  }

                  const siteID = response.data.ID
                  addAnexoCandidato(siteID, '', 'form_cliente_anexo')
                  Swal.fire({
                        icon: 'success',
                        title: 'Site cadastrado com sucesso.'
                  })
                  $('#addNewSite').prop('disabled', false)
                  setTimeout(() => document.location.reload(true), 1000)
               })
            }
         }
      </script>
      <script src="js/functions/dateFormat.js"></script>
      <script src="js/functions/getSite.js"></script>
      <script src="js/functions/getusuario.js"></script>
      <script src="js/functions/getAtividades.js"></script>
      <script src="js/functions/validations.js"></script>
      <script src="js/functions/buscaCep.js"></script>
      <script src="js/functions/getContatos.js"></script>
   </body>
</html>
